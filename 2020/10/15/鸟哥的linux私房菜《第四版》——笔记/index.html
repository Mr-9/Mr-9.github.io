<!DOCTYPE html>
<html lang="">
    <!-- title -->




<!-- keywords -->




<head><meta name="generator" content="Hexo 3.9.0">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="author" content="30no2">
    <meta name="renderer" content="webkit">
    <meta name="copyright" content="30no2">
    
    <meta name="keywords" content="hexo,hexo-theme,hexo-blog">
    
    <meta name="description" content>
    <meta http-equiv="Cache-control" content="no-cache">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>鸟哥的linux私房菜《第四版》——读后感 · 30no2&#39;s Blog</title>
    <style type="text/css">
    @font-face {
        font-family: 'Oswald-Regular';
        src: url("/font/Oswald-Regular.ttf");
    }

    body {
        margin: 0;
    }

    header,
    footer,
    .back-top,
    .sidebar,
    .container,
    .site-intro-meta,
    .toc-wrapper {
        display: none;
    }

    .site-intro {
        position: relative;
        z-index: 3;
        width: 100%;
        /* height: 50vh; */
        overflow: hidden;
    }

    .site-intro-placeholder {
        position: absolute;
        z-index: -2;
        top: 0;
        left: 0;
        width: calc(100% + 300px);
        height: 100%;
        background: repeating-linear-gradient(-45deg, #444 0, #444 80px, #333 80px, #333 160px);
        background-position: center center;
        transform: translate3d(-226px, 0, 0);
        animation: gradient-move 2.5s ease-out 0s infinite;
    }

    @keyframes gradient-move {
        0% {
            transform: translate3d(-226px, 0, 0);
        }
        100% {
            transform: translate3d(0, 0, 0);
        }
    }

</style>

    <link rel="preload" href="/css/style.css?v=20180824" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <link rel="stylesheet" href="/css/mobile.css?v=20180824" media="(max-width: 980px)">
    
    <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    
    <!-- /*! loadCSS. [c]2017 Filament Group, Inc. MIT License */
/* This file is meant as a standalone workflow for
- testing support for link[rel=preload]
- enabling async CSS loading in browsers that do not support rel=preload
- applying rel preload css once loaded, whether supported or not.
*/ -->
<script>
(function( w ){
	"use strict";
	// rel=preload support test
	if( !w.loadCSS ){
		w.loadCSS = function(){};
	}
	// define on the loadCSS obj
	var rp = loadCSS.relpreload = {};
	// rel=preload feature support test
	// runs once and returns a function for compat purposes
	rp.support = (function(){
		var ret;
		try {
			ret = w.document.createElement( "link" ).relList.supports( "preload" );
		} catch (e) {
			ret = false;
		}
		return function(){
			return ret;
		};
	})();

	// if preload isn't supported, get an asynchronous load by using a non-matching media attribute
	// then change that media back to its intended value on load
	rp.bindMediaToggle = function( link ){
		// remember existing media attr for ultimate state, or default to 'all'
		var finalMedia = link.media || "all";

		function enableStylesheet(){
			link.media = finalMedia;
		}

		// bind load handlers to enable media
		if( link.addEventListener ){
			link.addEventListener( "load", enableStylesheet );
		} else if( link.attachEvent ){
			link.attachEvent( "onload", enableStylesheet );
		}

		// Set rel and non-applicable media type to start an async request
		// note: timeout allows this to happen async to let rendering continue in IE
		setTimeout(function(){
			link.rel = "stylesheet";
			link.media = "only x";
		});
		// also enable media after 3 seconds,
		// which will catch very old browsers (android 2.x, old firefox) that don't support onload on link
		setTimeout( enableStylesheet, 3000 );
	};

	// loop through link elements in DOM
	rp.poly = function(){
		// double check this to prevent external calls from running
		if( rp.support() ){
			return;
		}
		var links = w.document.getElementsByTagName( "link" );
		for( var i = 0; i < links.length; i++ ){
			var link = links[ i ];
			// qualify links to those with rel=preload and as=style attrs
			if( link.rel === "preload" && link.getAttribute( "as" ) === "style" && !link.getAttribute( "data-loadcss" ) ){
				// prevent rerunning on link
				link.setAttribute( "data-loadcss", true );
				// bind listeners to toggle media back
				rp.bindMediaToggle( link );
			}
		}
	};

	// if unsupported, run the polyfill
	if( !rp.support() ){
		// run once at least
		rp.poly();

		// rerun poly on an interval until onload
		var run = w.setInterval( rp.poly, 500 );
		if( w.addEventListener ){
			w.addEventListener( "load", function(){
				rp.poly();
				w.clearInterval( run );
			} );
		} else if( w.attachEvent ){
			w.attachEvent( "onload", function(){
				rp.poly();
				w.clearInterval( run );
			} );
		}
	}


	// commonjs
	if( typeof exports !== "undefined" ){
		exports.loadCSS = loadCSS;
	}
	else {
		w.loadCSS = loadCSS;
	}
}( typeof global !== "undefined" ? global : this ) );
</script>

    <link rel="icon" href="/assets/favicon.ico">
    <link rel="preload" href="https://cdn.jsdelivr.net/npm/webfontloader@1.6.28/webfontloader.min.js" as="script">
    <link rel="preload" href="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js" as="script">
    <link rel="preload" href="/scripts/main.js" as="script">
    <link rel="preload" as="font" href="/font/Oswald-Regular.ttf" crossorigin>
    <link rel="preload" as="font" href="https://at.alicdn.com/t/font_327081_1dta1rlogw17zaor.woff" crossorigin>
    
    <!-- fancybox -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.js" defer></script>

    <!-- 百度统计  -->
    
    <script>
        var _hmt = _hmt || [];
        (function () {
        var hm = document.createElement("script");
        hm.src = "https://hm.baidu.com/hm.js?5585bd8db64f7d131c825e9275e8ad0c";
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(hm, s);
        })();
    </script>
    
    <!-- 谷歌统计  -->
    
</head>

    
        <body class="post-body">
    
    
<header class="header">

    <div class="read-progress"></div>
    <div class="header-sidebar-menu">&#xe775;</div>
    <!-- post页的toggle banner  -->
    
    <div class="banner">
            <div class="blog-title">
                <a href="/" >30no2&#39;s Blog.</a>
            </div>
            <div class="post-title">
                <a href="#" class="post-name">鸟哥的linux私房菜《第四版》——读后感</a>
            </div>
    </div>
    
    <a class="home-link" href=/>30no2's Blog.</a>
</header>
    <div class="wrapper">
        <div class="site-intro" style="







height:50vh;
">
    
    <!-- 主页  -->
    
    
    <!-- 404页  -->
            
    <div class="site-intro-placeholder"></div>
    <div class="site-intro-img" style="background-image: url(/intro/post-bg.jpg)"></div>
    <div class="site-intro-meta">
        <!-- 标题  -->
        <h1 class="intro-title">
            <!-- 主页  -->
            
            鸟哥的linux私房菜《第四版》——读后感
            <!-- 404 -->
            
        </h1>
        <!-- 副标题 -->
        <p class="intro-subtitle">
            <!-- 主页副标题  -->
            
            
            <!-- 404 -->
            
        </p>
        <!-- 文章页meta -->
        
            <div class="post-intros">
                <!-- 文章页标签  -->
                
                    <div class= post-intro-tags >
    
        <a class="post-tag" href="javascript:void(0);" data-tags = "linux">linux</a>
    
</div>
                
                
                    <div class="post-intro-read">
                        <span>字数统计: <span class="post-count word-count">19.1k</span>阅读时长: <span class="post-count reading-time">78 min</span></span>
                    </div>
                
                <div class="post-intro-meta">
                    <span class="post-intro-calander iconfont-archer">&#xe676;</span>
                    <span class="post-intro-time">2020/10/15</span>
                    
                    <span id="busuanzi_container_page_pv" class="busuanzi-pv">
                        <span class="iconfont-archer">&#xe602;</span>
                        <span id="busuanzi_value_page_pv"></span>
                    </span>
                    
                    <span class="shareWrapper">
                        <span class="iconfont-archer shareIcon">&#xe71d;</span>
                        <span class="shareText">Share</span>
                        <ul class="shareList">
                            <li class="iconfont-archer share-qr" data-type="qr">&#xe75b;
                                <div class="share-qrcode"></div>
                            </li>
                            <li class="iconfont-archer" data-type="weibo">&#xe619;</li>
                            <li class="iconfont-archer" data-type="qzone">&#xe62e;</li>
                            <li class="iconfont-archer" data-type="twitter">&#xe634;</li>
                            <li class="iconfont-archer" data-type="facebook">&#xe67a;</li>
                        </ul>
                    </span>
                </div>
            </div>
        
    </div>
</div>
        <script>
 
  // get user agent
  var browser = {
    versions: function () {
      var u = window.navigator.userAgent;
      return {
        userAgent: u,
        trident: u.indexOf('Trident') > -1, //IE内核
        presto: u.indexOf('Presto') > -1, //opera内核
        webKit: u.indexOf('AppleWebKit') > -1, //苹果、谷歌内核
        gecko: u.indexOf('Gecko') > -1 && u.indexOf('KHTML') == -1, //火狐内核
        mobile: !!u.match(/AppleWebKit.*Mobile.*/), //是否为移动终端
        ios: !!u.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/), //ios终端
        android: u.indexOf('Android') > -1 || u.indexOf('Linux') > -1, //android终端或者uc浏览器
        iPhone: u.indexOf('iPhone') > -1 || u.indexOf('Mac') > -1, //是否为iPhone或者安卓QQ浏览器
        iPad: u.indexOf('iPad') > -1, //是否为iPad
        webApp: u.indexOf('Safari') == -1, //是否为web应用程序，没有头部与底部
        weixin: u.indexOf('MicroMessenger') == -1, //是否为微信浏览器
        uc: u.indexOf('UCBrowser') > -1 //是否为android下的UC浏览器
      };
    }()
  }
  console.log("userAgent:" + browser.versions.userAgent);

  // callback
  function fontLoaded() {
    console.log('font loaded');
    if (document.getElementsByClassName('site-intro-meta')) {
      document.getElementsByClassName('intro-title')[0].classList.add('intro-fade-in');
      document.getElementsByClassName('intro-subtitle')[0].classList.add('intro-fade-in');
      var postIntros = document.getElementsByClassName('post-intros')[0]
      if (postIntros) {
        postIntros.classList.add('post-fade-in');
      }
    }
  }

  // UC不支持跨域，所以直接显示
  function asyncCb(){
    if (browser.versions.uc) {
      console.log("UCBrowser");
      fontLoaded();
    } else {
      WebFont.load({
        custom: {
          families: ['Oswald-Regular']
        },
        loading: function () {  //所有字体开始加载
          // console.log('loading');
        },
        active: function () {  //所有字体已渲染
          fontLoaded();
        },
        inactive: function () { //字体预加载失败，无效字体或浏览器不支持加载
          console.log('inactive: timeout');
          fontLoaded();
        },
        timeout: 5000 // Set the timeout to two seconds
      });
    }
  }

  function asyncErr(){
    console.warn('script load from CDN failed, will load local script')
  }

  // load webfont-loader async, and add callback function
  function async(u, cb, err) {
    var d = document, t = 'script',
      o = d.createElement(t),
      s = d.getElementsByTagName(t)[0];
    o.src = u;
    if (cb) { o.addEventListener('load', function (e) { cb(null, e); }, false); }
    if (err) { o.addEventListener('error', function (e) { err(null, e); }, false); }
    s.parentNode.insertBefore(o, s);
  }

  var asyncLoadWithFallBack = function(arr, success, reject) {
      var currReject = function(){
        reject()
        arr.shift()
        if(arr.length)
          async(arr[0], success, currReject)
        }

      async(arr[0], success, currReject)
  }

  asyncLoadWithFallBack([
    "https://cdn.jsdelivr.net/npm/webfontloader@1.6.28/webfontloader.min.js", 
    "https://cdn.bootcss.com/webfont/1.6.28/webfontloader.js",
    "/lib/webfontloader.min.js"
  ], asyncCb, asyncErr)
</script>        
        <img class="loading" src="/assets/loading.svg" style="display: block; margin: 6rem auto 0 auto; width: 6rem; height: 6rem;" />
        <div class="container container-unloaded">
            <main class="main post-page">
    <article class="article-entry">
        <h2 id="一、主机的规划与磁盘分区"><a href="#一、主机的规划与磁盘分区" class="headerlink" title="一、主机的规划与磁盘分区"></a>一、主机的规划与磁盘分区</h2><h3 id="1、linux与硬件的搭配"><a href="#1、linux与硬件的搭配" class="headerlink" title="1、linux与硬件的搭配"></a>1、linux与硬件的搭配</h3><ul>
<li>各个组件或者装置在linux底下都是一个文件。</li>
<li>开机流程<ul>
<li>BIOS：开机主动执行的韧体，会认识第一个可开机的装置</li>
<li>MBR：第一个可开机的装置的第一个扇区内的主要启动记录区块，内含开机管理程序</li>
<li>开机股那里程序（boot loader）：一支可读取核心文件来执行的软件<ul>
<li>提供选单：用户可以选择不同的开机项目，这也是多重引导的重要功能！</li>
<li>载入核心文件：直接指向可开机的程序区段来开始操作系统</li>
<li>转交其他loader：将开机管理功能转交给其他loader负责</li>
</ul>
</li>
<li>核心文件：开始操作系统的功能。。。</li>
</ul>
</li>
</ul>
<h3 id="2、磁盘分区"><a href="#2、磁盘分区" class="headerlink" title="2、磁盘分区"></a>2、磁盘分区</h3><ul>
<li>目录树结构：整个目录树架构最重要的就是那个根目录（root directory）这个根目录的表示方法为一条斜线/</li>
<li>挂载：就是利用一个目录当作进入点，将磁盘分区槽的数据放置在该目录下；也就是说，进入该目录就可以读取该分区槽的意思。这个动作叫做挂在，进入的点叫做挂载点。</li>
</ul>
<h2 id="二、安装centos7"><a href="#二、安装centos7" class="headerlink" title="二、安装centos7"></a>二、安装centos7</h2><ul>
<li>若安装笔记本电脑失败时，可尝试在开机时加入【linux nofb apm=off acpi=off】来关闭省电功能</li>
<li>安装过程进入分区后，请以【自定义的分区模式】来处理自己规划的分区方式</li>
<li>centos 7预设使用xfs作为文件系统</li>
<li>没有连上Internet时，可尝试关闭防火墙，但SELinux最好选择强制状态</li>
<li>设定时不要选择启动kdump，应为那是给核心开发查阅当机数据</li>
<li>如果我的磁盘分区时使用MBR方式，并设定了四个Primary分区槽，这是磁盘还有空间，由于最多只有四个Primary的磁盘分区槽，没有多的可以进行分区了，且由于没有Extended,就不能在使用Logical分区。</li>
</ul>
<h2 id="三、首次登入与在线求助"><a href="#三、首次登入与在线求助" class="headerlink" title="三、首次登入与在线求助"></a>三、首次登入与在线求助</h2><ul>
<li><p>查看文档</p>
<ul>
<li>空格键——向下翻一页</li>
<li>【Page Down】——向下翻一页</li>
<li>【Page Up】——向上翻一页</li>
<li>【Home】——去到第一页</li>
<li>【End】——去到最后一页</li>
<li>/string 向【下】搜寻string这个字符串，如果要搜寻vbird的话，就输入/vbird</li>
<li>?string 向【上】搜寻string这个字符串</li>
<li>n,N：继续往下查询N用于反向查询</li>
<li>q 结束</li>
</ul>
</li>
<li><p>Linux系统在线求助man page</p>
<ul>
<li><p>man -f 指令 ，在某些情况下，你可能知道要使用某些特定的指令或者是修改某些特定的配置文件，但是偏偏忘记了该指令的完整名称。有些时候则是你只记得该指令的部分关键词。</p>
</li>
<li><p>【man -f man】</p>
<ul>
<li>左边部分：指令（或文件）以及该指令所代表的意义（就是那个数字）；</li>
<li>右边部分：这个指令的简易说明</li>
</ul>
<p>【man 1 yum-groups-manager】</p>
</li>
<li><p>info page</p>
<ul>
<li>info page 则是将文件数据拆成一个一个的段落，每个段落用自己的页面来撰写，并且在各个页面中还有类似的网页的【超链接】来跳到各不同的页面中，每个独立的页面也被称为一个节点。</li>
</ul>
</li>
<li><p>总结：</p>
<ul>
<li>在终端机模式中，如果你知道某个指令，但却忘记了相关选项与参数，请先善用 –help的功能来查询相关信息</li>
<li>当有任何你不知道的指令或文件格式这种玩意儿，请使用man或者info来查询</li>
<li>而如果你想要架设一些其他的服务，或想要利用一整套软件来达成某项功能时，到/usr/share/doc底下查一下有没有该服务的说明文档</li>
</ul>
</li>
</ul>
</li>
<li><p>超级文书编辑器：nano</p>
<ul>
<li>[ctrl]-G：取得联机帮助(help)，很有用的！  </li>
<li>[ctrl]-X：离开 naon 软件，若有修改过文件会提示是否需要储存喔！  </li>
<li>[ctrl]-O：储存文件，若你有权限的话就能够储存文件了；</li>
<li>[ctrl]-R：从其他文件读入资料，可以将某个文件的内容贴在本文件中；</li>
<li>[ctrl]-W：搜寻字符串，这个也是很有帮助的指令喔！</li>
<li>[ctrl]-C：说明目前光标所在处的行数与列数等信息；</li>
<li>[ctrl]-_：可以直接输入行号，让光标快速移动到该行；</li>
<li>[alt]-Y：校正语法功能开启或关闭(单击开、再单击关)</li>
<li>[alt]-M：可以支持鼠标来移动光标的功能  </li>
</ul>
</li>
<li><p>正确的关机方法</p>
<ul>
<li><p>在你看不到的屏幕背后其实可能有相当多人同时在你的主机上面工作，若不正常关机，则可能造成文件系统的损毁。</p>
</li>
<li><p>观察系统的使用状态：</p>
<ul>
<li>如果要看目前有谁在线，可以下达【who】这个指令，而如果要看网络的联机状态，可以下达【netstat -a】这个指令，要看背景执行的程序可以执行【ps -aux】这个指令</li>
<li><p>关机：shutdown</p>
</li>
<li><p>重启：reboot</p>
</li>
</ul>
</li>
<li><p>相关指令</p>
<ul>
<li><p>将数据同步写入硬盘中的指令：sync</p>
</li>
<li><p>转换为管理员权限</p>
<ul>
<li>su -<ul>
<li>输入密码后转为管理员权限</li>
</ul>
</li>
<li>tips:<ul>
<li>sync可以被一般账号使用，只不过一般账号用户所更新的硬盘数据就仅有自己的数据，不像root可以更新整个系统中的数据了。</li>
</ul>
</li>
</ul>
</li>
<li><p>惯用的关机指令：shutdown</p>
<ul>
<li><p>shutdown 【参数】</p>
<ul>
<li><p>-k：不要真的关机，只是发送警告讯息出去！</p>
</li>
<li><p>-r：在将系统的服务停掉之后就重新启动（常用）</p>
</li>
<li><p>-h：将系统的服务停掉后，立即关机。（常用）</p>
</li>
<li><p>-c：取消已经在进行中的shutdown指令内容。</p>
</li>
<li><p>时间：指定系统关机的时间！世家你的范例地下会说明。若没有这个项目，则默认1分钟后自动进行。</p>
<ul>
<li><p>例子：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">shutdown -h now #立刻关机，其中now相当于时间为0的状态</span><br><span class="line">shutdown -h 20:25 #系统在今天的20:25分会关机，若在21:25才下达此指令，则隔天才关机</span><br><span class="line">shutdown -h +10 #系统踩过十分钟后自动关机</span><br><span class="line">shutdown -r now #系统立刻重启</span><br><span class="line">shutdown -r +30 &apos;The system will reboot&apos; #再过三十分钟系统会重新启动，并显示后面的讯息给所有在线使用者</span><br><span class="line">shutdown -k now &apos;This system will reboot&apos; #仅发出警告信件的参数！系统并不会关机，吓唬人。</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>systemctl【指令】</p>
<ul>
<li>指令项目包括如下：<ul>
<li>halt：进入系统停止模式，屏幕可能会保留一些讯息，这与你的电源管理模式有关</li>
<li>poweroff：进入系统关机模式，直接关机没有提供电力</li>
<li>reboot：直接重新启动</li>
<li>suspend：进入休眠模式</li>
</ul>
</li>
</ul>
</li>
<li><p>重新启动，关机：reboot,halt,poweroff</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li>重点回顾<ul>
<li>为了避免瞬间断电造成的 Linux 系统危害，建议做为服务器的 Linux 主机应该加上不断电系统来持续提供稳定的电力；</li>
<li>养成良好的操作习惯，尽量不要使用 root 直接登入系统，应使用一般账号登入系统，有需要再转换身份</li>
<li>可以透过『活动总览』查看系统所有使用的软件及快速启用惯用软件</li>
<li>在 X 的环境下想要『强制』重新启动 X 的组合按键为：『[alt]+[ctrl]+[backspace]』；</li>
<li>预设情况下，Linux 提供 tty1~tty6 的终端机界面；</li>
<li>在终端机环境中，可依据提示字符为$或#判断为一般账号或 root 账号；</li>
<li>取得终端机支持的语系数据可下达『echo $LANG』或『locale』指令；</li>
<li>date 可显示日期、cal 可显示日历、bc 可以做为计算器软件；</li>
<li>组合按键中，[tab]按键可做为(1)命令补齐或(2)档名补齐或(3)参数选项补齐，[crtl]-[c]可以中断目前正在运作中的程序；</li>
<li>Linux 系统上的英文大小写为不同的资料</li>
<li>联机帮助系统有 man 及 info 两个常见的指令；</li>
<li>man page 说明后面的数字中，1 代表一般账号可用指令，8 代表系统管理员常用指令，5 代表系统配置文件格式；</li>
<li>info page 可将一份说明文件拆成多个节点(node)显示，并具有类似超链接的功能，增加易读性；</li>
<li>系统需正确的关机比较不容易损坏，可使用 shutdown, poweroff 等指令关机。  </li>
</ul>
</li>
</ul>
<h2 id="四、linux的文件权限与目录配置"><a href="#四、linux的文件权限与目录配置" class="headerlink" title="四、linux的文件权限与目录配置"></a>四、linux的文件权限与目录配置</h2><ul>
<li>文件权限read/write/execute权限</li>
</ul>
<h3 id="（一）使用者与群组"><a href="#（一）使用者与群组" class="headerlink" title="（一）使用者与群组"></a>（一）使用者与群组</h3><h4 id="1、文件拥有者："><a href="#1、文件拥有者：" class="headerlink" title="1、文件拥有者："></a>1、文件拥有者：</h4><ul>
<li>linux是多人多任务的系统，为了考虑每个人的隐私以及每个人喜好的工作环境，【文件拥有者】的角色就显得的相当重要了。</li>
</ul>
<h4 id="2、群组概念："><a href="#2、群组概念：" class="headerlink" title="2、群组概念："></a>2、群组概念：</h4><ul>
<li>群组最有用的功能是团队开发中使用，限制非自己团队的其他人不能阅览内容。</li>
<li>如果teacher这个账号是projecta与projectb这两个专题的老师，想同时观察两者的进度，则同时支持projecta与projectb这两个群组！也就是说：每个账号都可以由多个群组的支持- </li>
<li>使用者和群组的概念<ul>
<li>使用者的意义：有使用权但是有的私人文件不能使用</li>
<li>群组：属于群组的都能使用</li>
</ul>
</li>
</ul>
<h4 id="3、其他人的概念"><a href="#3、其他人的概念" class="headerlink" title="3、其他人的概念"></a>3、其他人的概念</h4><ul>
<li>群组意外的用户则为其他人</li>
</ul>
<h4 id="4、Linux用户身份与群组记录的文件"><a href="#4、Linux用户身份与群组记录的文件" class="headerlink" title="4、Linux用户身份与群组记录的文件"></a>4、Linux用户身份与群组记录的文件</h4><ul>
<li>linux系统中root相关信息，/etc/passwd这个文件内的。密码则记录在/etc/shadow这个文件下</li>
<li>linux所有的组名都在/etc/group</li>
</ul>
<h3 id="（二）linux文件权限概念"><a href="#（二）linux文件权限概念" class="headerlink" title="（二）linux文件权限概念"></a>（二）linux文件权限概念</h3><h4 id="1、linux文件按属性"><a href="#1、linux文件按属性" class="headerlink" title="1、linux文件按属性"></a>1、linux文件按属性</h4><ul>
<li>ls -al</li>
</ul>
<blockquote>
<p>-rw-r–r–.  1 root root 2150 10月 15 16:01 initial-setup-ks.cfg</p>
</blockquote>
<h5 id="1）第一栏代表这个文件的类型与权限（permission）"><a href="#1）第一栏代表这个文件的类型与权限（permission）" class="headerlink" title="1）第一栏代表这个文件的类型与权限（permission）"></a>1）第一栏代表这个文件的类型与权限（permission）</h5><ul>
<li>【rwx】的三个参数的组合，【r】代表可读的（read）【w】代表可写（write）【x】代表可执行（execute）</li>
<li>【-rwxr-xr–】:<ul>
<li>【-】【rwx】【r-x】【r–】</li>
<li>【1】【234】【567】【890】<ul>
<li>1：代表这个文件名为目录或者文件，本例中为文件（-）</li>
<li>234：拥有者的权限，本例中为可读，可写，可执行（rwx）</li>
<li>567：同群组用户权力，本例中为可读可执行（rx）</li>
<li>980：其他用户权力，本例中为可读（r），就是只读之意</li>
<li>同时注意到，rwx所在的位置是不会改变的，有该权限就会显示字符，没有该权限就变成减号（-）就是了</li>
</ul>
</li>
</ul>
</li>
</ul>
<h5 id="2）第二栏表示有多少档名连接到此节点（i-node）"><a href="#2）第二栏表示有多少档名连接到此节点（i-node）" class="headerlink" title="2）第二栏表示有多少档名连接到此节点（i-node）"></a>2）第二栏表示有多少档名连接到此节点（i-node）</h5><p>每个文件都会将他的权限与属性记录到文件系统的i-node中，不过，我们使用的目录树却是使用文件名来记录，因此每个档名就会链接一个i-node。这个属性记录的，就是有多少不同的档名连接到相同的一个i-node号码。</p>
<h5 id="3）第三栏表示这个文件（或目录）的【拥有者账号】"><a href="#3）第三栏表示这个文件（或目录）的【拥有者账号】" class="headerlink" title="3）第三栏表示这个文件（或目录）的【拥有者账号】"></a>3）第三栏表示这个文件（或目录）的【拥有者账号】</h5><h5 id="4）第四栏表示这个文件的所属群组"><a href="#4）第四栏表示这个文件的所属群组" class="headerlink" title="4）第四栏表示这个文件的所属群组"></a>4）第四栏表示这个文件的所属群组</h5><h5 id="5）第五栏为这个文件的容量大小，默认单位为bytes"><a href="#5）第五栏为这个文件的容量大小，默认单位为bytes" class="headerlink" title="5）第五栏为这个文件的容量大小，默认单位为bytes"></a>5）第五栏为这个文件的容量大小，默认单位为bytes</h5><h5 id="6）第六栏为这个文件的建档日期或者是最近的修改日期"><a href="#6）第六栏为这个文件的建档日期或者是最近的修改日期" class="headerlink" title="6）第六栏为这个文件的建档日期或者是最近的修改日期"></a>6）第六栏为这个文件的建档日期或者是最近的修改日期</h5><h5 id="7）第七栏为这个文件的档名"><a href="#7）第七栏为这个文件的档名" class="headerlink" title="7）第七栏为这个文件的档名"></a>7）第七栏为这个文件的档名</h5><ul>
<li>如果档名之前多了一个【.】，则代表这个文件为【隐藏档】，可以使用【ls】【ls -a】。</li>
</ul>
<h4 id="2、linux文件权限的重要性"><a href="#2、linux文件权限的重要性" class="headerlink" title="2、linux文件权限的重要性"></a>2、linux文件权限的重要性</h4><ul>
<li>系统保护的功能</li>
<li>团队开发软件或数据共享工具</li>
<li>未将权限设定妥当的危害</li>
<li>在修改linux文件与目录属性之前，要先搞清楚什么数据是可变的，什么是不可变的。</li>
</ul>
<h4 id="3、如何改变文件属性与权限"><a href="#3、如何改变文件属性与权限" class="headerlink" title="3、如何改变文件属性与权限"></a>3、如何改变文件属性与权限</h4><blockquote>
<p>chgrp：改变文件所属群组</p>
<p>chown：改变文件拥有者</p>
<p>chmod：改变文件的权限，SUID,SGID,SBIT等特性</p>
</blockquote>
<ul>
<li>改变所属群组，chgrp（change group的缩写）</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chgrp users test.txt</span><br></pre></td></tr></table></figure>
<ul>
<li>改变文件拥有者，chown（change owner的缩写）<ul>
<li>/etc/passwd这个记录的用户名称才能改变，如果要连目录下的所有次目录或文件同时更改文件拥有者的话，直接加上-R的选项即可。</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">chown bin test.txt #将test.txt的拥有者改为bin这个账号</span><br><span class="line">chown root:root test.txt #将test.txt的拥有者和群组改回为：root</span><br></pre></td></tr></table></figure>
<ul>
<li><p>改变权限，chmod</p>
<ul>
<li><p>数字类型改变文件权限</p>
<ul>
<li>r：4</li>
<li>w：2</li>
<li>x：1</li>
</ul>
</li>
<li><p>三种身份（owner/group/others）各自的三个权限（r/w/x）分数是需要累加的，</p>
<ul>
<li>owner = rwx = 4+2+1 = 7</li>
<li>group = rwx = 4+2+1 = 7</li>
<li>others = — = 0+0+0=0</li>
</ul>
</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod 777 test.txt #将test.txt这个文件权限都设定</span><br></pre></td></tr></table></figure>
<h4 id="4、目录与文件之权限意义"><a href="#4、目录与文件之权限意义" class="headerlink" title="4、目录与文件之权限意义"></a>4、目录与文件之权限意义</h4><h5 id="1）权限对文件的重要性"><a href="#1）权限对文件的重要性" class="headerlink" title="1）权限对文件的重要性"></a>1）权限对文件的重要性</h5><ul>
<li>r(read)：可读取此文件的实际内容，如读取文本文件的文字内容</li>
<li>w(write)：可以编辑，新增或者修改该文件的内容（但不含删除该文件）</li>
<li>x(eXecute)：该文件具有可以被系统执行的权限</li>
</ul>
<h5 id="2）权限对目录的重要性"><a href="#2）权限对目录的重要性" class="headerlink" title="2）权限对目录的重要性"></a>2）权限对目录的重要性</h5><ul>
<li>r(read contents in directory  )：表示具有读取目录结构列表的权限</li>
<li>w(modify contents of directory  )：表示你具有移动该目录结构列表的权限<ul>
<li>建立新的文件与目录</li>
<li>删除已经存在的文件与目录（不论该文件的权限为何！）</li>
<li>将已经存在的文件或者目录进行更名；</li>
<li>搬移该目录内的文件，目录位置</li>
</ul>
</li>
<li>x(access directory)：x代表的是用户能否进入该目录成为工作目录的用途，即你登陆Linux时，所在的家目录就是你当下的工作目录<ul>
<li>如果你在某目录下不具有x的权限，那么你就无法切换到该目录下，也就无法执行该目录下的任何指令，即使你具有该目录的r或者w的权限</li>
<li>要开放目录给任何人浏览时，应该至少给r和x权限但是w权限不能随便给</li>
</ul>
</li>
</ul>
<h4 id="5、Linux文件种类与扩展名"><a href="#5、Linux文件种类与扩展名" class="headerlink" title="5、Linux文件种类与扩展名"></a>5、Linux文件种类与扩展名</h4><h5 id="1）文件种类"><a href="#1）文件种类" class="headerlink" title="1）文件种类"></a>1）文件种类</h5><ul>
<li>正规文件<ul>
<li>纯文本：人类可以读到的数据，例如数字，字母等</li>
<li>二进制文件：电脑可以执行的文件</li>
<li>数据格式文件：程序运作时候会读取特定格式的文件，例如我们登录数据，记录在/var/log/wtmp 中，我们可以用last读出来，但是用cat则是乱码</li>
</ul>
</li>
<li>目录</li>
<li>连结档：类似window的快捷方式，第一个属性为【I】</li>
<li>设备与装置文件<ul>
<li>与系统周边以及存储等相关的一些文件，通常都集中在/dev这个目录中，分为两种<ul>
<li>区块设备档：一些存储设备，例如硬盘，/dev/sda</li>
<li>字符设备文件：一些串型设备，例如键盘鼠标等</li>
</ul>
</li>
</ul>
</li>
<li>资料接口文件（sockets）：我们可以启动一个程序来监听客户端的要求，而客户端可以透过这个socket来进行数据的沟通。属性为【s】,位置/run/tmp</li>
<li>数据传输文件（FIFO，pips）:特殊的文件类型，他主要目的解决多个程序同时存取一个文件造成的错误问题。属性为：【p】</li>
</ul>
<h5 id="2）Linux文件扩展名"><a href="#2）Linux文件扩展名" class="headerlink" title="2）Linux文件扩展名"></a>2）Linux文件扩展名</h5><p>​        一个linux文件能不能执行，我们通常与他第一栏的十个属性有关，在linux下，只要你有这个文件的权限为x时，则这个文件就有执行能力。</p>
<p>​        “具有可执行能力”和“具有可执行力的代码”是两回事</p>
<p>​        通常可执行的后缀名：</p>
<ul>
<li>*.sh：脚本或者批处理文件</li>
<li><em>Z, </em>.tar, <em>.tar.gz, </em>.zip, *.tgz：经过打包的压缩文件</li>
<li><em>.html , </em>.php :网页相关文件</li>
</ul>
<h5 id="3）Linux文件长度的限制"><a href="#3）Linux文件长度的限制" class="headerlink" title="3）Linux文件长度的限制"></a>3）Linux文件长度的限制</h5><p>​        单一的文件或者目录最大允许文件名为：255bytes,以一个ASCII英文占用一个bytes来说，则大约可以255个字符长度，若以每中文字占用2bytes来说，最大档名大约在128个中文字之谱。</p>
<h5 id="4）Linux文件名的限制"><a href="#4）Linux文件名的限制" class="headerlink" title="4）Linux文件名的限制"></a>4）Linux文件名的限制</h5><p>避免特殊字符</p>
<p>* ? &gt; &lt; ; &amp; ! [ ] | \ ‘ “ ` ( ) { }  </p>
<h3 id="（三）Linux目录配置"><a href="#（三）Linux目录配置" class="headerlink" title="（三）Linux目录配置"></a>（三）Linux目录配置</h3><h4 id="1、Linux的目录配置依据：FHS"><a href="#1、Linux的目录配置依据：FHS" class="headerlink" title="1、Linux的目录配置依据：FHS"></a>1、Linux的目录配置依据：FHS</h4><p>将目录分为四种交互形态：</p>
<ul>
<li><p>可分享的：可以分享给其他挂载使用的目录，所以包括执行文件，与用户邮件等数据，是能够分享给网络上其他主机挂载用的目录</p>
</li>
<li><p>不可分享的：自己机器上运作的装置文件或者与程序有关的socket文件等，由于与自身机器有关，所以当然就不适合分享给其他主机了。</p>
</li>
<li><p>不变的：有些数据是不会经常变动的，跟随distribution而不变动，例如：函数库，文件说明，系统管理员所管理的主机配置文件</p>
</li>
<li><p>可变动的：经常改变的数据，例如登录文件，一般用户可自行收受的新闻组等。</p>
</li>
<li><p>/（root，根目录）:与开机有关</p>
</li>
<li><p>/usr(unix software resource)：与软件安装/执行有关</p>
</li>
<li><p>/var(variable)：与系统运作过程有关</p>
</li>
<li><p>根目录（/）的意义与内容</p>
<ul>
<li><p>根目录也与开机/还原/系统修复等动作有关</p>
<ul>
<li>根目录所在的分区卡槽应该越少越好，应用程序所安装的软件最好不要与根目录放在同一个分区槽内，保持根目录越小越少。如此不但效能较佳，根目录所在的文件系统也较不容易发生的问题。</li>
</ul>
</li>
<li><p>FHS要求必须要存在的目录</p>
<ul>
<li>/bin 放置 的是在单人维护模式下还能够被操作的指令</li>
<li>/boot 这个目录主要在放置开机会使用到的文件，如果使用的是grub2这个开机管理程序，则还会存在/boot/grub2/这个目录</li>
<li>/dev 这个目录任何装置与接口设备都是以文件的形态存在这个目录中。</li>
<li><p>/etc 系统主要的配置都放在这个目录里面，FHS建议不要放置可执行文件，</p>
<ul>
<li>/etc/opt（必要）：这个目录放置第三方协力软件 /opt的相关配置文件</li>
<li>/etc/X11（建议）：与X Window有关的配置</li>
<li>/etc/sgml（建议）：与SGML格式有关的各项配置文件</li>
<li>/etc/xml（建议）：与xml格式有关的各项配置文件</li>
</ul>
</li>
<li><p>lib /lib放置的则是在开机时会用到函数库，以及在/bin或/sbin底下的指令会呼叫的函式库而已。</p>
<ul>
<li>/lib/modules：这个目录主要放置可抽换的核心相关模块。</li>
</ul>
</li>
<li>media /media底下放置的是可移除的装置，如软盘，光盘。</li>
<li>/mnt 暂时挂载</li>
<li>/opt 这个是给第三方协力软件放置的目录</li>
<li>/run 早期的FHS规定系统开机后所产生的各项信息应该要放置到/var/run目录下，新版的FHS则规范到/run底下</li>
<li>/sbin 放在/sbin 底下的为开机过程中所需要的，里面包括了开机、修复、还原 系统所需要的指令,本机自行安装的软件所产生的系统执行文件，则防止到/usr/local/sbin/当中</li>
<li>/srv 是一些网络服务启动之后，这些服务所需要取用的数据目录。 常见的服务例如www,ftp。</li>
<li>/tmp 这是让一般用户或者正在执行的程序暂时放置的地方。每个人都能够存储的。建议每次开机都清除/tmp的数据。</li>
<li>/usr 第二层FHS设定</li>
<li>/var 第二层FHS设定，主要为放置变动性的数据</li>
</ul>
</li>
<li><p>FHS建议可以存在的目录</p>
<ul>
<li>/home 这是系统默认的用户家目录，新增一个账号时，默认的用户家目录，都会规范在这里。</li>
<li>/lib<qual> 用来存放在与 /lib 不同格式的二进制函式库</qual></li>
<li>/root 系统的管理员（root）的家目录 。</li>
<li>/usr 的意义与内容：/usr里面防止的内容是可分享的与不可变动的。GHS建议所有软件开发者，应该将他们的数据合理的分别放置的到这个目录的次目录，而不自行建立该软件自己独立的目录。</li>
<li>/var的意义与内容：<ul>
<li>如果/usr 是安装时会占用较大硬盘容量的目录，那么/var 就是在系统运作后才会渐渐占用硬盘容量的目录。  </li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<table>
<thead>
<tr>
<th></th>
<th style="text-align:left">第一部份：FHS 要求必须要存在的目录</th>
</tr>
</thead>
<tbody>
<tr>
<td>/var/cache/</td>
<td style="text-align:left">应用程序本身运作过程中会产生的一些暂存档；</td>
</tr>
<tr>
<td>/var/lib/</td>
<td style="text-align:left">程序本身执行的过程中，需要使用到的数据文件放置的目录。在此目录下各自的软件应该要有各自的 目录。 举例来说，MySQL 的数据库放置到/var/lib/mysql/而 rpm 的数据库则放到/var/lib/rpm 去！</td>
</tr>
<tr>
<td>/var/lock/</td>
<td style="text-align:left">某些装置或者是文件资源一次只能被一个应用程序所使用，如果同时有两个程序使用该装置时， 就 可能产生一些错误的状况，因此就得要将该装置上锁(lock)，以确保该装置只会给单一软件所使用。举 例来说，刻录机正在刻录一块光盘，你想一下，会不会有两个人同时在使用一个刻录机烧片？ 如果 两个人同时刻录，那片子写入的是谁的资料？所以当第一个人在刻录时该刻录机就会被上锁， 第二 个人就得要该装置被解除锁定(就是前一个人用完了)才能够继续使用啰。目前此目录也已经挪到 /run/lock 中！</td>
</tr>
<tr>
<td>/var/log/</td>
<td style="text-align:left">重要到不行！这是登录文件放置的目录！里面比较重要的文件如/var/log/messages, /var/log/wtmp(记 录登入者的信息)等。</td>
</tr>
<tr>
<td>/var/mail/</td>
<td style="text-align:left">放置个人电子邮件信箱的目录，不过这个目录也被放置到/var/spool/mail/目录中！ 通常这两个目录 是互为链接文件啦！</td>
</tr>
<tr>
<td>/var/run/</td>
<td style="text-align:left">某些程序或者是服务启动后，会将他们的 PID 放置在这个目录下喔！至于 PID 的意义我们会在后续章 节提到的。 与 /run 相同，这个目录链接到 /run 去了！</td>
</tr>
<tr>
<td>/var/spool/</td>
<td style="text-align:left">这个目录通常放置一些队列数据，所谓的『队列』就是排队等待其他程序使用的数据啦！这些数据被 使用后通常都会被删除。举例来说，系统收到新信会放置到/var/spool/mail/中， 但使用者收下该信 件后该封信原则上就会被删除。信件如果暂时寄不出去会被放到/var/spool/mqueue/中， 等到被送出 后就被删除。如果是工作排程数据(crontab)，就会被放置到/var/spool/cron/目录中！</td>
</tr>
</tbody>
</table>
<h5 id="1）针对FHS，各家distributions-的异同，与-CentOS7-的变化"><a href="#1）针对FHS，各家distributions-的异同，与-CentOS7-的变化" class="headerlink" title="1）针对FHS，各家distributions 的异同，与 CentOS7 的变化"></a>1）针对FHS，各家distributions 的异同，与 CentOS7 的变化</h5><p>CentOS 的网络设定数据放在/etc/sysconfig/network-scripts/ 目录下，但是 SuSE 则是将网络放置在 /etc/sysconfig/network/ 目录下，目录名称可是不同的呢！  】</p>
<ul>
<li>/bin –&gt; /usr/bin</li>
<li>/sbin –&gt; /usr/sbin</li>
<li>/lib –&gt; /usr/lib</li>
<li>/lib64 –&gt; /usr/lib64</li>
<li>/var/lock –&gt; /run/lock</li>
<li>/var/run –&gt; /run  </li>
</ul>
<h4 id="2、目录树"><a href="#2、目录树" class="headerlink" title="2、目录树"></a>2、目录树</h4><p>​    在linux底下，所有的文件与目录都是由根目录开始的。</p>
<ul>
<li>目录树的起始点为根目录（/，root）；</li>
<li>每一个目录不止能使用本地端的partition的文件系统，也可以使用网络上的filesystem。举例来说，可以利用Network File System(NFS)服务器挂载某特定目录</li>
<li>每一个文件在此目录中的文件名（包含完整路径）都是独一无二的</li>
</ul>
<p><img src="https://i.postimg.cc/dvbdrShz/linux.jpg"></p>
<h4 id="3、绝对路径和相对路径"><a href="#3、绝对路径和相对路径" class="headerlink" title="3、绝对路径和相对路径"></a>3、绝对路径和相对路径</h4><ul>
<li>.：代表当前目录，也可以使用./来表示</li>
<li>..：代表上一层目录，也可以../来表示</li>
</ul>
<h4 id="4、Centos-的观察"><a href="#4、Centos-的观察" class="headerlink" title="4、Centos 的观察"></a>4、Centos 的观察</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">uname -r #查看核心版本</span><br><span class="line">uname -m #查看操作系统的位版本</span><br><span class="line">yum install redhat-lsb #查看版本号，需要root身份</span><br><span class="line">lsb_release -a #查看信息</span><br></pre></td></tr></table></figure>
<h4 id="5、重点"><a href="#5、重点" class="headerlink" title="5、重点"></a>5、重点</h4><ul>
<li><p>更改文件的群组支持可用 chgrp，修改文件的拥有者可用 chown，修改文件的权限可用 chmod  </p>
</li>
<li><p>修改文件权限</p>
<p>chmod 754 filename</p>
</li>
<li><p>配置数据</p>
<ul>
<li>/etc/ 几乎系统所有配置文件均在这里</li>
<li>/boot/ 开机配置文件，</li>
<li>/usr/bin, /bin 一般执行档摆放的地方</li>
<li>/usr/sbin,/sbin 系统管理员常用的指令集</li>
<li>/dev 所有系统装置文件的目录</li>
<li>/var/log 系统注册表文件的地方</li>
<li>/run 经常变动的项目</li>
</ul>
</li>
</ul>
<h2 id="五、Linux文件与目录管理"><a href="#五、Linux文件与目录管理" class="headerlink" title="五、Linux文件与目录管理"></a>五、Linux文件与目录管理</h2><h3 id="1、目录与路径"><a href="#1、目录与路径" class="headerlink" title="1、目录与路径"></a>1、目录与路径</h3><ul>
<li><p>文件与目录的检视：ls</p>
</li>
<li><p>复制、删除、移动：cp， rm， mv</p>
</li>
</ul>
<h3 id="2、文件与目录管理"><a href="#2、文件与目录管理" class="headerlink" title="2、文件与目录管理"></a>2、文件与目录管理</h3><ul>
<li><p>取得路径的文件名与目录名称</p>
</li>
<li><p>basename /etc/sysconfig/network # network  取得最后的档名</p>
</li>
<li>dirname /etc/sysconfig/network # /etc/sysconfig 取得目录名</li>
</ul>
<h3 id="3、文件内容查阅"><a href="#3、文件内容查阅" class="headerlink" title="3、文件内容查阅"></a>3、文件内容查阅</h3><ul>
<li>cat 由第一行还是显示文件内容</li>
<li>tac 由最后一行显示文件内容（tac是cat倒着写的）</li>
<li>nl 显示的时候 显示行号</li>
<li>more 一页一页显示文件内容</li>
<li>less与more类似 比more好的是，他可以往前翻页</li>
<li>head 只看头几行</li>
<li>tail 只看尾巴几行</li>
<li>od 以二进制的方式读取文件内容</li>
</ul>
<h3 id="4、文件与目录的默认权限与隐藏权限"><a href="#4、文件与目录的默认权限与隐藏权限" class="headerlink" title="4、文件与目录的默认权限与隐藏权限"></a>4、文件与目录的默认权限与隐藏权限</h3><ul>
<li><p>除了基本 r, w, x 权限外，在 Linux 传统的 Ext2/Ext3/Ext4 文件系统下，我们还可以设定其他的系统隐藏属性， 这部份可使用 chattr 来设定，而以 lsattr 来查看，最重要的属性就是可以设定其不可修改的特性！  </p>
</li>
<li><p>文件预设权限：umask  用户在建立文件时默认的属性，修改权限则umask 后加对应数值，例如umask 002</p>
</li>
<li><p>文件隐藏属性：</p>
<ul>
<li>chattr（配置隐藏属性）</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chattr [+-=][ASacdistu] 文件或目录名称</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">范例：请尝试到/tmp 底下建立文件，并加入 i 的参数，尝试删除看看。</span><br><span class="line">[root@study ~]# cd /tmp</span><br><span class="line">[root@study tmp]# touch attrtest &lt;==建立一个空文件</span><br><span class="line">[root@study tmp]# chattr +i attrtest &lt;==给予 i 的属性</span><br><span class="line">[root@study tmp]# rm attrtest &lt;==尝试删除看看</span><br><span class="line">rm: remove regular empty file `attrtest&apos;? y</span><br><span class="line">rm: cannot remove `attrtest&apos;: Operation not permitted</span><br><span class="line"># 看到了吗？呼呼！连 root 也没有办法将这个文件删除呢！赶紧解除设定！</span><br><span class="line">范例：请将该文件的 i 属性取消！</span><br><span class="line">[root@study tmp]# chattr -i attrtest</span><br></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li><p>lsattr（显示文件隐藏属性）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lsattr [-adR] 文件或目录</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">选项与参数：</span><br><span class="line">-a ：将隐藏文件的属性也秀出来；</span><br><span class="line">-d ：如果接的是目录，仅列出目录本身的属性而非目录内的文件名；</span><br><span class="line">-R ：连同子目录的数据也一并列出来！</span><br><span class="line">[root@study tmp]# chattr +aiS attrtest</span><br><span class="line">[root@study tmp]# lsattr attrtest</span><br><span class="line">--S-ia---------- attrtest</span><br></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li><p>文件特殊权限</p>
<ul>
<li>SUID,SGID,SBIT</li>
</ul>
</li>
<li><p>观察文件类型：file</p>
</li>
</ul>
<h3 id="5、指令与文件搜索"><a href="#5、指令与文件搜索" class="headerlink" title="5、指令与文件搜索"></a>5、指令与文件搜索</h3><ul>
<li>脚本文件名的搜寻</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">which [-a] command</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">选项或参数：</span><br><span class="line">-a ：将所有由 PATH 目录中可以找到的指令均列出，而不止第一个被找到的指令名称</span><br><span class="line">范例一：搜寻 ifconfig 这个指令的完整文件名</span><br><span class="line">[root@study ~]# which ifconfig</span><br><span class="line">/sbin/ifconfig</span><br><span class="line">范例二：用 which 去找出 which 的档名为何？</span><br><span class="line">[root@study ~]# which which</span><br><span class="line">alias which=&apos;alias | /usr/bin/which --tty-only --read-alias --show-dot --show-tilde&apos;</span><br><span class="line">/bin/alias</span><br><span class="line">/usr/bin/which</span><br><span class="line"># 竟然会有两个 which ，其中一个是 alias 这玩意儿呢！那是啥？</span><br><span class="line"># 那就是所谓的『命令别名』，意思是输入 which 会等于后面接的那串指令啦！</span><br><span class="line"># 更多的数据我们会在 bash 章节中再来谈的！</span><br><span class="line">范例三：请找出 history 这个指令的完整文件名</span><br><span class="line">[root@study ~]# which history</span><br><span class="line">/usr/bin/which: no history in (/usr/local/sbin:/usr/local/bin:/sbin:/bin:</span><br><span class="line">/usr/sbin:/usr/bin:/root/bin)</span><br><span class="line">[root@study ~]# history --help</span><br><span class="line">-bash: history: --: invalid option</span><br><span class="line">history: usage: history [-c] [-d offset] [n] or history -anrw [filename] or history -ps arg</span><br></pre></td></tr></table></figure>
<ul>
<li>文件档名的搜寻</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">whereis [-bmsu] 文件或目录名</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">选项与参数：</span><br><span class="line">-l :可以列出 whereis 会去查询的几个主要目录而已</span><br><span class="line">-b :只找 binary 格式的文件</span><br><span class="line">-m :只找在说明文件 manual 路径下的文件</span><br><span class="line">-s :只找 source 来源文件</span><br><span class="line">-u :搜寻不在上述三个项目当中的其他特殊文件</span><br><span class="line">范例一：请找出 ifconfig 这个档名</span><br><span class="line">[root@study ~]# whereis ifconfig</span><br><span class="line">ifconfig: /sbin/ifconfig /usr/share/man/man8/ifconfig.8.gz</span><br><span class="line">范例二：只找出跟 passwd 有关的『说明文件』档名(man page)</span><br><span class="line">[root@study ~]# whereis passwd # 全部的档名通通列出来！</span><br><span class="line">passwd: /usr/bin/passwd /etc/passwd /usr/share/man/man1/passwd.1.gz</span><br><span class="line">/usr/share/man/man5/passwd.5.gz</span><br><span class="line">[root@study ~]# whereis -m passwd # 只有在 man 里面的档名才抓出来！</span><br><span class="line">passwd: /usr/share/man/man1/passwd.1.gz /usr/share/man/man5/passwd.5.g</span><br></pre></td></tr></table></figure>
<ul>
<li>locate/updatedb<ul>
<li>updatedb：根据 /etc/updatedb.conf 的设定去搜寻系统硬盘内的文件名，并更新 /var/lib/mlocate 内的数据库<br>文件；</li>
<li>locate：依据 /var/lib/mlocate 内的数据库记载，找出用户输入的关键词文件名。  </li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@study ~]# locate [-ir] keyword</span><br><span class="line">选项与参数：</span><br><span class="line">-i ：忽略大小写的差异；</span><br><span class="line">-c ：不输出档名，仅计算找到的文件数量</span><br><span class="line">-l ：仅输出几行的意思，例如输出五行则是 -l 5</span><br><span class="line">-S ：输出 locate 所使用的数据库文件的相关信息，包括该数据库纪录的文件/目录数量等</span><br><span class="line">-r ：后面可接正规表示法的显示方式</span><br></pre></td></tr></table></figure>
<ul>
<li>find</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find [PATH] [option] [action]</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">选项与参数：</span><br><span class="line">1. 与时间有关的选项：共有 -atime, -ctime 与 -mtime ，以 -mtime 说明</span><br><span class="line">-mtime n ：n 为数字，意义为在 n 天之前的『一天之内』被更动过内容的文件；</span><br><span class="line">-mtime +n ：列出在 n 天之前(不含 n 天本身)被更动过内容的文件档名；</span><br><span class="line">-mtime -n ：列出在 n 天之内(含 n 天本身)被更动过内容的文件档名。</span><br><span class="line">-newer file ：file 为一个存在的文件，列出比 file 还要新的文件档名</span><br><span class="line">范例一：将过去系统上面 24 小时内有更动过内容 (mtime) 的文件列出</span><br><span class="line">[root@study ~]# find / -mtime 0</span><br><span class="line"># 那个 0 是重点！0 代表目前的时间，所以，从现在开始到 24 小时前，</span><br><span class="line"># 有变动过内容的文件都会被列出来！那如果是三天前的 24 小时内？</span><br><span class="line"># find / -mtime 3 有变动过的文件都被列出的意思！</span><br><span class="line">范例二：寻找 /etc 底下的文件，如果文件日期比 /etc/passwd 新就列出</span><br><span class="line">[root@study ~]# find /etc -newer /etc/passwd</span><br><span class="line"># -newer 用在分辨两个文件之间的新旧关系是很有用的！</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">范例一：将过去系统上面 24 小时内有更动过内容 (mtime) 的文件列出</span><br><span class="line">[root@study ~]# find / -mtime 0</span><br><span class="line"># 那个 0 是重点！0 代表目前的时间，所以，从现在开始到 24 小时前，</span><br><span class="line"># 有变动过内容的文件都会被列出来！那如果是三天前的 24 小时内？</span><br><span class="line"># find / -mtime 3 有变动过的文件都被列出的意思！</span><br><span class="line">范例二：寻找 /etc 底下的文件，如果文件日期比 /etc/passwd 新就列出</span><br><span class="line">[root@study ~]# find /etc -newer /etc/passwd</span><br><span class="line"># -newer 用在分辨两个文件之间的新旧关系是很有用的</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">选项与参数：</span><br><span class="line">3. 与文件权限及名称有关的参数：</span><br><span class="line">-name filename：搜寻文件名为 filename 的文件；</span><br><span class="line">-size [+-]SIZE：搜寻比 SIZE 还要大(+)或小(-)的文件。这个 SIZE 的规格有：</span><br><span class="line">c: 代表 byte， k: 代表 1024bytes。所以，要找比 50KB</span><br><span class="line">还要大的文件，就是『 -size +50k 』</span><br><span class="line">-type TYPE ：搜寻文件的类型为 TYPE 的，类型主要有：一般正规文件 (f), 装置文件 (b, c),</span><br><span class="line">目录 (d), 连结档 (l), socket (s), 及 FIFO (p) 等属性。</span><br><span class="line">-perm mode ：搜寻文件权限『刚好等于』 mode 的文件，这个 mode 为类似 chmod</span><br><span class="line">的属性值，举例来说， -rwsr-xr-x 的属性为 4755 ！</span><br><span class="line">-perm -mode ：搜寻文件权限『必须要全部囊括 mode 的权限』的文件，举例来说，我们要搜寻 -rwxr--r-- ，亦即 0744 的文件，使用 -perm -0744，</span><br><span class="line">当一个文件的权限为 -rwsr-xr-x ，亦即 4755 时，也会被列出来，</span><br><span class="line">因为 -rwsr-xr-x 的属性已经囊括了 -rwxr--r-- 的属性了。</span><br><span class="line">-perm /mode ：搜寻文件权限『包含任一 mode 的权限』的文件，举例来说，我们搜寻</span><br><span class="line">-rwxr-xr-x ，亦即 -perm /755 时，但一个文件属性为 -rw-------</span><br><span class="line">也会被列出来，因为他有 -rw.... 的属性存在！</span><br><span class="line">范例五：找出档名为 passwd 这个文件</span><br><span class="line">[root@study ~]# find / -name passwd</span><br><span class="line">范例五-1：找出文件名包含了 passwd 这个关键词的文件</span><br><span class="line">[root@study ~]# find / -name &quot;*passwd*&quot;</span><br><span class="line"># 利用这个 -name 可以搜寻档名啊！默认是完整文件名，如果想要找关键词，</span><br><span class="line"># 可以使用类似 * 的任意字符来处理</span><br><span class="line">范例六：找出 /run 目录下，文件类型为 Socket 的檔名有哪些？</span><br><span class="line">[root@study ~]# find /run -type s</span><br><span class="line"># 这个 -type 的属性也很有帮助喔！尤其是要找出那些怪异的文件，</span><br><span class="line"># 例如 socket 与 FIFO 文件，可以用 find /run -type p 或 -type s 来找！</span><br><span class="line">范例七：搜寻文件当中含有 SGID 或 SUID 或 SBIT 的属性</span><br><span class="line">[root@study ~]# find / -perm /7000</span><br><span class="line"># 所谓的 7000 就是 ---s--s--t ，那么只要含有 s 或 t 的就列出，所以当然要使用 /7000，</span><br><span class="line"># 使用 -7000 表示要同时含有 ---s--s--t 的所有三个权限。而只需要任意一个，就是 /7000 ～瞭乎？</span><br></pre></td></tr></table></figure>
<h3 id="6、复习"><a href="#6、复习" class="headerlink" title="6、复习"></a>6、复习</h3><ul>
<li>特殊目录有：., .., -, ~, ~account 需要注意；                                                                                                                                                                                                                                                                                                                                                                                                                                     </li>
<li>rmdir 仅能删除空目录，要删除非空目录需使用『 rm -r 』指令；  </li>
<li>cat -n 与 nl 均可显示行号，但默认的情况下，空白行会不会编号并不相同  </li>
<li>文件具有 SUID 的特殊权限时，代表当用户执行此一 binary 程序时，在执行过程中用户会暂时具有程序拥有者的权限</li>
<li>目录具有 SGID 的特殊权限时，代表用户在这个目录底下新建的文件之群组都会与该目录的组名相同。</li>
<li>目录具有 SBIT 的特殊权限时，代表在该目录下用户建立的文件只有自己与 root 能够删除！</li>
<li>观察文件的类型可以使用 file 指令来观察；<ul>
<li></li>
<li>搜寻指令的完整文件名可用 which 或 type ，这两个指令都是透过 PATH 变量来搜寻文件名；<br> 搜寻文件的完整档名可以使用 whereis 找特定目录或 locate 到数据库去搜寻，而不实际搜寻文件系统；<br> 利用 find 可以加入许多选项来直接查询文件系统，以获得自己想要知道的档名。  </li>
</ul>
</li>
</ul>
<h2 id="六、Linux磁盘与文件系统"><a href="#六、Linux磁盘与文件系统" class="headerlink" title="六、Linux磁盘与文件系统"></a>六、Linux磁盘与文件系统</h2><h3 id="6-1、认识Linux系统"><a href="#6-1、认识Linux系统" class="headerlink" title="6.1、认识Linux系统"></a>6.1、认识Linux系统</h3><ul>
<li>EXT2：是使用inode/block/superblock这种inode为基础的文件系统</li>
<li>我们在Linux下的文件系统建立一个目录时，文件就会分配一个inode与至少一块block给该目录。</li>
<li>EXT3,4是EXT2的升级版本，新增了日志等功能，推荐直接用EXT4</li>
<li>挂载点：每个filesystem 都有独立的inode/block/superblock 。挂载点一定是目录，该目录为进入该文件系统的入口。</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@study ~]# ls -lid / /boot /home</span><br><span class="line">128 dr-xr-xr-x. 17 root root 4096 May 4 17:56 /</span><br><span class="line">128 dr-xr-xr-x. 4 root root 4096 May 4 17:59 /boot</span><br><span class="line">128 drwxr-xr-x. 5 root root 41 Jun 17 00:20 /home</span><br></pre></td></tr></table></figure>
<ul>
<li>inode号为128 filesystem为17，4，5则它们为不同的目录</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@study ~]# ls -ild / /. /..</span><br><span class="line">128 dr-xr-xr-x. 17 root root 4096 May 4 17:56 /</span><br><span class="line">128 dr-xr-xr-x. 17 root root 4096 May 4 17:56 /.</span><br><span class="line">128 dr-xr-xr-x. 17 root root 4096 May 4 17:56 /..</span><br></pre></td></tr></table></figure>
<ul>
<li><p>inode号为128 filesystem为17则它们为相同的目录</p>
</li>
<li><p>查看Linux支持的文件系统</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls -l /lib/modules/$(uname -r)/kernel/fs</span><br></pre></td></tr></table></figure>
<ul>
<li><p>XFS：Centos 7 已经由原本的EXT4变成了XFS文件系统。</p>
<ul>
<li>Ext家族当前较伤脑筋的地方：支持度最广，但格式化超级慢</li>
<li>xfs是一个日志式的文件系统，主要用在高容量磁盘以及高性能文件系统只用。<ul>
<li>一个资料区（data section）</li>
<li>一个文件系统活动登录区（log section）</li>
<li>一个实时运作区(realtime section)</li>
</ul>
</li>
</ul>
</li>
<li><p>范例一</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">找出系统 /boot 这个挂载点底下的文件系统的 superblock 纪录</span><br><span class="line">[root@study ~]# df -T /boot</span><br><span class="line">Filesystem Type 1K-blocks Used Available Use% Mounted on</span><br><span class="line">/dev/vda2 xfs 1038336 133704 904632 13% /boot</span><br><span class="line"># 没错！可以看得出来是 xfs 文件系统的！来观察一下内容吧！</span><br><span class="line">[root@study ~]# xfs_info /dev/vda2</span><br><span class="line">1 meta-data=/dev/vda2 isize=256 agcount=4, agsize=65536 blks</span><br><span class="line">2 = sectsz=512 attr=2, projid32bit=1</span><br><span class="line">3 = crc=0 finobt=0</span><br><span class="line">4 data = bsize=4096 blocks=262144, imaxpct=25</span><br><span class="line">5 = sunit=0 swidth=0 blks</span><br><span class="line">6 naming =version 2 bsize=4096 ascii-ci=0 ftype=0</span><br><span class="line">7 log =internal bsize=4096 blocks=2560, version=2</span><br><span class="line">8 = sectsz=512 sunit=0 blks, lazy-count=1</span><br><span class="line">9 realtime =none extsz=4096 blocks=0, rtextents=0</span><br></pre></td></tr></table></figure>
<ul>
<li>说明：<ul>
<li>第 1 行里面的 isize 指的是 inode 的容量，每个有 256bytes 这么大。至于 agcount 则是前面谈到的储存区群组 (allocation group) 的个数，共有 4 个， agsize 则是指每个储存区群组具有 65536 个 block 。配合第 4 行的 block 设定为 4K，因此整个文件系统的容量应该就是 4<em>65536</em>4K 这么大！</li>
<li>第 2 行里面 sectsz 指的是逻辑扇区 (sector) 的容量设定为 512bytes 这么大的意思。</li>
<li>第 4 行里面的 bsize 指的是 block 的容量，每个 block 为 4K 的意思，共有 262144 个 block 在这个文件系统内。</li>
<li>第 5 行里面的 sunit 与 swidth 与磁盘阵列的 stripe 相关性较高。这部份我们底下格式化的时候会举一个例子来说明。</li>
<li>第 7 行里面的 internal 指的是这个登录区的位置在文件系统内，而不是外部设备的意思。且占用了 4K *2560 个 block，总共约 10M 的容量。</li>
<li>第 9 行里面的 realtime 区域，里面的 extent 容量为 4K。不过目前没有使用。  </li>
</ul>
</li>
</ul>
<h3 id="6-2、文件系统的简单操作"><a href="#6-2、文件系统的简单操作" class="headerlink" title="6.2、文件系统的简单操作"></a>6.2、文件系统的简单操作</h3><h4 id="6-2-1-磁盘与目录的容量"><a href="#6-2-1-磁盘与目录的容量" class="headerlink" title="6.2.1 磁盘与目录的容量"></a>6.2.1 磁盘与目录的容量</h4><ul>
<li>df：列出文件的整体磁盘使用量<ul>
<li>-h 会以G/M等容量格式显示出来</li>
<li>-aT 系统内的所有特殊文件格式及名称都列出来</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">将 /etc 底下的可用的磁盘容量以易读的容量格式显示</span><br><span class="line">[root@study ~]# df -h /etc</span><br><span class="line">Filesystem Size Used Avail Use% Mounted on</span><br><span class="line">/dev/mapper/centos-root 10G 3.3G 6.8G 33% /</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">范例五：将目前各个 partition 当中可用的 inode 数量列出</span><br><span class="line">[root@study ~]# df -ih</span><br><span class="line">Filesystem Inodes IUsed IFree IUse% Mounted on</span><br><span class="line">/dev/mapper/centos-root 10M 108K 9.9M 2% /</span><br><span class="line">devtmpfs 154K 397 153K 1% /dev</span><br><span class="line">tmpfs 156K 5 156K 1% /dev/shm</span><br><span class="line">tmpfs 156K 497 156K 1% /run</span><br><span class="line">tmpfs 156K 13 156K 1% /sys/fs/cgroup</span><br></pre></td></tr></table></figure>
<ul>
<li>du：评估文件系统的磁盘使用量（常用在推估目录所占容量）</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">选项与参数：</span><br><span class="line">-a ：列出所有的文件与目录容量，因为默认仅统计目录底下的文件量而已。</span><br><span class="line">-h ：以人们较易读的容量格式 (G/M) 显示；</span><br><span class="line">-s ：列出总量而已，而不列出每个各别的目录占用容量；</span><br><span class="line">-S ：不包括子目录下的总计，与 -s 有点差别。</span><br><span class="line">-k ：以 KBytes 列出容量显示；</span><br><span class="line">-m ：以 MBytes 列出容量显示；</span><br></pre></td></tr></table></figure>
<ul>
<li><ul>
<li>直接输入du没有任何选项时，则默认分析当前目录</li>
<li>du分析的是当前目录下的所有数据的总和，如果想减少此目录的加总则要加上-S</li>
</ul>
</li>
</ul>
<h4 id="6-2-2-实体链接与符号链接-ln"><a href="#6-2-2-实体链接与符号链接-ln" class="headerlink" title="6.2.2 实体链接与符号链接 ln"></a>6.2.2 实体链接与符号链接 ln</h4><p>在Linux底下的连接档有两种，一种是类似的Windows的快捷方式，可以快速的链接到目标文件，另一种则是透过文件系统的inode链接来产生新的文档名，这种链接称为实体链接。</p>
<h5 id="1）建立实体链接-hard-link"><a href="#1）建立实体链接-hard-link" class="headerlink" title="1）建立实体链接 hard link"></a>1）建立实体链接 hard link</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@study ~]# ll -i /etc/crontab</span><br><span class="line">34474855 -rw-r--r--. 1 root root 451 Jun 10 2014 /etc/crontab</span><br><span class="line">[root@study ~]# ln /etc/crontab . &lt;==建立实体链接的指令</span><br><span class="line">[root@study ~]# ll -i /etc/crontab crontab</span><br><span class="line">34474855 -rw-r--r--. 2 root root 451 Jun 10 2014 crontab</span><br><span class="line">34474855 -rw-r--r--. 2 root root 451 Jun 10 2014 /etc/crontab</span><br></pre></td></tr></table></figure>
<ul>
<li>如果将任何一个档名删除，其实inode和block都还是存在的，不论在哪个档名修改，结果都会写入相同的inode与block中。</li>
<li>hard link限制：<ul>
<li>不能跨Filesytem</li>
<li>不能link目录</li>
</ul>
</li>
</ul>
<h5 id="2）Symbolic-Link-符号链接，亦既是快捷方式"><a href="#2）Symbolic-Link-符号链接，亦既是快捷方式" class="headerlink" title="2）Symbolic Link(符号链接，亦既是快捷方式)"></a>2）Symbolic Link(符号链接，亦既是快捷方式)</h5><p>Symbolic link 就是在建立一个独立的文件，而这个文件会让数据的读取指向他 link 的那个文件的档名！由于只是利用文件来做为指向的动作， 所以，当来源档被删除之后，symbolic link 的文件会『开不了』 。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@study ~]# ln -s /etc/crontab crontab2</span><br><span class="line">[root@study ~]# ll -i /etc/crontab /root/crontab2</span><br><span class="line">34474855 -rw-r--r--. 2 root root 451 Jun 10 2014 /etc/crontab</span><br><span class="line">53745909 lrwxrwxrwx. 1 root root 12 Jun 23 22:31 /root/crontab2 -&gt; /etc/crontab</span><br></pre></td></tr></table></figure>
<ul>
<li>选项<ul>
<li>-s:如果不加任何参数就进行链接则是hand link ,至于-s就是symbolic link</li>
<li>-f:如果目标文件存在时，就主动将目标文件直接移除后再建立</li>
</ul>
</li>
</ul>
<h3 id="6-3、磁盘的分区、格式化、检验、挂载"><a href="#6-3、磁盘的分区、格式化、检验、挂载" class="headerlink" title="6.3、磁盘的分区、格式化、检验、挂载"></a>6.3、磁盘的分区、格式化、检验、挂载</h3><h4 id="6-3-1-观察磁盘分区状态"><a href="#6-3-1-观察磁盘分区状态" class="headerlink" title="6.3.1 观察磁盘分区状态"></a>6.3.1 观察磁盘分区状态</h4><ul>
<li>lsblk：列出磁盘上所有列表</li>
<li>blkid：找出装置的UUID</li>
<li>parted：列出磁盘分区表类型与分区信息</li>
</ul>
<h4 id="6-3-2-磁盘分区：gdisk-fdisk"><a href="#6-3-2-磁盘分区：gdisk-fdisk" class="headerlink" title="6.3.2 磁盘分区：gdisk/fdisk"></a>6.3.2 磁盘分区：gdisk/fdisk</h4><p>【MBR 分区表用fdisk,GPT分区表用gdisk】</p>
<ul>
<li>partprobe 更新Linux核心的分区表信息</li>
<li>gdisk 删除分区</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">gdisk /dev/vda</span><br><span class="line">p</span><br><span class="line">w #使指令生效</span><br></pre></td></tr></table></figure>
<h4 id="6-3-3-磁盘格式化（建置文件系统）"><a href="#6-3-3-磁盘格式化（建置文件系统）" class="headerlink" title="6.3.3 磁盘格式化（建置文件系统）"></a>6.3.3 磁盘格式化（建置文件系统）</h4><ul>
<li>XFS文件系统 mkfs.xfs</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkfs.xfs -f /dev/sdb</span><br></pre></td></tr></table></figure>
<ul>
<li>XFS文件系统for RAID（磁盘阵列） 效能优化（Optional）</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@study ~]# mkfs.xfs -f -d agcount=2,sunit=512,swidth=3584 -r extsize=1792k /dev/vda4</span><br></pre></td></tr></table></figure>
<ul>
<li>EXT4文件系统 mkfs.ext4</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@study ~]# mkfs.ext4 [-b size] [-L label] 装置名称</span><br><span class="line">选项与参数：</span><br><span class="line">-b ：设定 block 的大小，有 1K, 2K, 4K 的容量，</span><br><span class="line">-L ：后面接这个装置的标头名称。</span><br><span class="line">范例：将 /dev/vda5 格式化为 ext4 文件系统</span><br><span class="line">[root@study ~]</span><br></pre></td></tr></table></figure>
<ul>
<li>其他文件系统 mkfs<ul>
<li>mkfs 是综合指令使用mkfs -t xfs时就会找mkfs.xfs的相关参数给我们使用</li>
</ul>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@study ~]# mkfs[tab][tab]</span><br><span class="line">mkfs mkfs.btrfs mkfs.cramfs mkfs.ext2 mkfs.ext3 mkfs.ext4</span><br><span class="line">mkfs.fat mkfs.minix mkfs.msdos mkfs.vfat mkfs.xfs</span><br></pre></td></tr></table></figure>
<h4 id="6-3-4-文件系统检验"><a href="#6-3-4-文件系统检验" class="headerlink" title="6.3.4 文件系统检验"></a>6.3.4 文件系统检验</h4><ul>
<li>xfs_repair 处理XFS文件系统</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">xfs_repair [-find] 装置名称</span><br><span class="line">选项与参数：</span><br><span class="line">-f ：后面的装置其实是个文件而不是实体装置</span><br><span class="line">-n ：单纯检查并不修改文件系统的任何数据 (检查而已)</span><br><span class="line">-d ：通常用在单人维护模式底下，针对根目录 (/) 进行检查与修复的动作！很危险！不要随便使用</span><br></pre></td></tr></table></figure>
<ul>
<li>fsck.ext4 处理EXT4文件系统</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fsck.ext4 /dev/sdb</span><br></pre></td></tr></table></figure>
<h4 id="6-3-5-文件系统的挂载与卸除"><a href="#6-3-5-文件系统的挂载与卸除" class="headerlink" title="6.3.5 文件系统的挂载与卸除"></a>6.3.5 文件系统的挂载与卸除</h4><ul>
<li>mount </li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mount /dev/sdb /data/cdrom</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mount UUID=&quot;e0a6af55-26e7-4cb7-a515-826a8bd29e90&quot; /data/xfs</span><br></pre></td></tr></table></figure>
<ul>
<li>重新挂载根目录与挂载不特定目录</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">范例：将 / 重新挂载，并加入参数为 rw 与 auto</span><br><span class="line">[root@study ~]# mount -o remount,rw,auto /</span><br></pre></td></tr></table></figure>
<ul>
<li>umount（将装置文件卸除）</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">umount -f /dev/sdb</span><br></pre></td></tr></table></figure>
<h4 id="6-3-6-磁盘-文件系统参数修订"><a href="#6-3-6-磁盘-文件系统参数修订" class="headerlink" title="6.3.6 磁盘/文件系统参数修订"></a>6.3.6 磁盘/文件系统参数修订</h4><ul>
<li>mknod </li>
<li>xfs_admin 修改XFS文件系统UUID与Label name</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">范例：利用 uuidgen 产生新 UUID 来设定 /dev/vda4，并测试挂载</span><br><span class="line">[root@study ~]# umount /dev/vda4 # 使用前，请先卸除！</span><br><span class="line">[root@study ~]# uuidgen</span><br><span class="line">e0fa7252-b374-4a06-987a-3cb14f415488 # 很有趣的指令！可以产生新的 UUID 喔！</span><br><span class="line">[root@study ~]# xfs_admin -u /dev/vda4</span><br><span class="line">UUID = e0a6af55-26e7-4cb7-a515-826a8bd29e90</span><br><span class="line">[root@study ~]# xfs_admin -U e0fa7252-b374-4a06-987a-3cb14f415488 /dev/vda4</span><br><span class="line">Clearing log and setting UUID</span><br><span class="line">writing all SBs</span><br><span class="line">new UUID = e0fa7252-b374-4a06-987a-3cb14f415488</span><br><span class="line">[root@study ~]# mount UUID=e0fa7252-b374-4a06-987a-3cb14f415488 /data/xfs</span><br></pre></td></tr></table></figure>
<ul>
<li>tune2fs修改ext4的lable name 与 UUID</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">范例：列出 /dev/vda5 的 label name 之后，将它改成 vbird_ext4</span><br><span class="line">[root@study ~]# dumpe2fs -h /dev/vda5 | grep name</span><br><span class="line">dumpe2fs 1.42.9 (28-Dec-2013)Filesystem volume name: &lt;none&gt; # 果然是没有设定的！</span><br><span class="line">[root@study ~]# tune2fs -L vbird_ext4 /dev/vda5</span><br><span class="line">[root@study ~]# dumpe2fs -h /dev/vda5 | grep name</span><br><span class="line">Filesystem volume name: vbird_ext4</span><br><span class="line">[root@study ~]# mount LABEL=vbird_ext4 /data/ext4</span><br></pre></td></tr></table></figure>
<h3 id="6-4-设定开机挂载"><a href="#6-4-设定开机挂载" class="headerlink" title="6.4 设定开机挂载"></a>6.4 设定开机挂载</h3><h4 id="6-4-1-开机挂载-etc-fstab-及-etc-mtab"><a href="#6-4-1-开机挂载-etc-fstab-及-etc-mtab" class="headerlink" title="6.4.1 开机挂载 /etc/fstab 及 /etc/mtab"></a>6.4.1 开机挂载 /etc/fstab 及 /etc/mtab</h4><ul>
<li>/etc/fstab 是将我们利用mount指令进行挂载时将所有选项与参数写入到这个文件中</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[root@bogon ~]# </span><br><span class="line">[root@bogon ~]# cat /etc/fstab</span><br><span class="line"></span><br><span class="line">#</span><br><span class="line"># /etc/fstab</span><br><span class="line"># Created by anaconda on Mon Nov  2 16:02:43 2020</span><br><span class="line">#</span><br><span class="line"># Accessible filesystems, by reference, are maintained under &apos;/dev/disk&apos;</span><br><span class="line"># See man pages fstab(5), findfs(8), mount(8) and/or blkid(8) for more info</span><br><span class="line">#</span><br><span class="line">#[装置/UUID 等]                           [挂载点] [文件系统] [文件系统参数] [dump] [fsck]</span><br><span class="line">/dev/mapper/centos-root                    /       xfs       defaults     0     0</span><br><span class="line">UUID=6a760021-6800-4ab7-9565-bd9abe459a0f /boot    xfs       defaults     0     0</span><br><span class="line">/dev/mapper/centos-swap                    swap    swap      defaults     0     0</span><br></pre></td></tr></table></figure>
<ul>
<li><p>参数说明：</p>
<ul>
<li>磁盘装置文件名/UUID/LABEL name：  <ul>
<li>文件系统或磁盘的装置文件名，如 /dev/vda2 等</li>
<li>文件系统的 UUID 名称，如 UUID=xxx</li>
<li>文件系统的 LABEL 名称，例如 LABEL=xxx  </li>
</ul>
</li>
<li>第二栏：挂载点 (mount point)：<ul>
<li>一定是目录</li>
</ul>
</li>
<li>第三栏：磁盘分区槽的文件系统：<ul>
<li>在手动挂载时可以让系统自动测试挂载，但在这个文件当中我们必须要手动写入文件系统才行！包括 xfs, ext4, vfat, reiserfs, nfs 等等。  </li>
</ul>
</li>
<li>第四栏：文件系统参数：  <ul>
<li>defaults：同时具有 rw, suid, dev, exec, auto, nouser, async 等参数。 基本上，预设情况使用 efaults 设定即可！</li>
</ul>
</li>
<li>第五栏：能否被 dump 备份指令作用：  <ul>
<li>dump 是一个用来做为备份的指令，由于备份方案有很多，所以这里写0就好了。</li>
</ul>
</li>
<li>第六栏：是否以 fsck 检验扇区：  <ul>
<li>早期开机流程中会校验，主要是透过fsck去做的，现在由于xfs文件系统会自己进行校验，不需要额外校验，直接填写0</li>
</ul>
</li>
</ul>
</li>
<li><p>如果/etc/fstab输入错误导致无法开机</p>
<ul>
<li><p>进入单人模式</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@study ~]# mount -n -o remount,rw /</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<h4 id="6-4-2-特殊装置loop挂载（映像档不刻录就挂载使用）"><a href="#6-4-2-特殊装置loop挂载（映像档不刻录就挂载使用）" class="headerlink" title="6.4.2 特殊装置loop挂载（映像档不刻录就挂载使用）"></a>6.4.2 特殊装置loop挂载（映像档不刻录就挂载使用）</h4><blockquote>
<p>如果有光盘映像文件或者是使用文件作为磁盘的方式时，就用特殊的方式将他挂载起来- </p>
</blockquote>
<ul>
<li>挂载光盘/DVD映像文件 通过loop文件来挂载</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[root@study ~]# mount -o loop /tmp/CentOS-7.0-1406-x86_64-DVD.iso /data/centos_dvd</span><br><span class="line">[root@study ~]# df /data/centos_dvd</span><br><span class="line">Filesystem 1K-blocks Used Available Use% Mounted on</span><br><span class="line">/dev/loop0 4050860 4050860 0 100% /data/centos_dvd</span><br><span class="line"># 就是这个项目！ .iso 映象文件内的所有数据可以在 /data/centos_dvd 看到！</span><br><span class="line">[root@study ~]# ll /data/centos_dvd</span><br><span class="line">total 607</span><br><span class="line">-rw-r--r--. 1 500 502 14 Jul 5 2014 CentOS_BuildTag &lt;==瞧！就是 DVD 的内容啊！</span><br><span class="line">drwxr-xr-x. 3 500 502 2048 Jul 4 2014 EFI</span><br><span class="line">-rw-r--r--. 1 500 502 611 Jul 5 2014 EULA</span><br><span class="line">-rw-r--r--. 1 500 502 18009 Jul 5 2014 GPL</span><br><span class="line">drwxr-xr-x. 3 500 502 2048 Jul 4 2014 images</span><br><span class="line">.....(底下省略).....</span><br><span class="line">[root@study ~]# umount /data/centos_dvd/</span><br><span class="line"># 测试完成！记得将数据给他卸除！</span><br></pre></td></tr></table></figure>
<ul>
<li><p>建立大文件以制作loop装置文件</p>
<ul>
<li><p>建立大文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">#假设我要建立一个空的文件在 /srv/loopdev</span><br><span class="line">[root@study ~]# dd if=/dev/zero of=/srv/loopdev bs=1M count=512</span><br><span class="line">512+0 records in &lt;==读入 512 笔资料</span><br><span class="line">512+0 records out &lt;==输出 512 笔数据</span><br><span class="line">536870912 bytes (537 MB) copied, 12.3484 seconds, 43.5 MB/s</span><br><span class="line"># 这个指令的简单意义如下：</span><br><span class="line"># if 是 input file ，输入文件。那个 /dev/zero 是会一直输出 0 的装置！# of 是 output file ，将一堆零写入到后面接的文件中。</span><br><span class="line"># bs 是每个 block 大小，就像文件系统那样的 block 意义；</span><br><span class="line"># count 则是总共几个 bs 的意思。所以 bs*count 就是这个文件的容量了！</span><br><span class="line">[root@study ~]# ll -h /srv/loopdev</span><br><span class="line">-rw-r--r--. 1 root root 512M Jun 25 19:46 /srv/loopdev</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<ul>
<li><p>大型文件格式化</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@study ~]# mkfs.xfs -f /srv/loopdev</span><br><span class="line">[root@study ~]# blkid /srv/loopdev</span><br><span class="line">/srv/loopdev: UUID=&quot;59615042-c25e-4ec8-acd2-5cf407f2b55e&quot; TYPE=&quot;xfs</span><br></pre></td></tr></table></figure>
</li>
</ul>
<ul>
<li><p>挂载</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@study ~]# mount -o loop UUID=&quot;7dd97bd2-4446-48fd-9d23-a8b03ffdd5ee&quot; /mnt</span><br><span class="line">[root@study ~]# df /mnt</span><br><span class="line">Filesystem 1K-blocks Used Available Use% Mounted on</span><br><span class="line">/dev/loop0 520876 26372 494504</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="6-5-内存置换空间（swap）之建制"><a href="#6-5-内存置换空间（swap）之建制" class="headerlink" title="6.5 内存置换空间（swap）之建制"></a>6.5 内存置换空间（swap）之建制</h3><h4 id="6-5-1-使用实体分区槽建置swap"><a href="#6-5-1-使用实体分区槽建置swap" class="headerlink" title="6.5.1 使用实体分区槽建置swap"></a>6.5.1 使用实体分区槽建置swap</h4><ul>
<li>先进行分区的行为</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">[root@study ~]# gdisk /dev/vda</span><br><span class="line">Command (? for help): n</span><br><span class="line">Partition number (6-128, default 6):</span><br><span class="line">First sector (34-83886046, default = 69220352) or &#123;+-&#125;size&#123;KMGTP&#125;:</span><br><span class="line">Last sector (69220352-83886046, default = 83886046) or &#123;+-&#125;size&#123;KMGTP&#125;: +512M</span><br><span class="line">Current type is &apos;Linux filesystem&apos;</span><br><span class="line">Hex code or GUID (L to show codes, Enter = 8300): 8200</span><br><span class="line">Changed type of partition to &apos;Linux swap&apos;</span><br><span class="line">Command (? for help): p</span><br><span class="line">Number Start (sector) End (sector) Size Code Name</span><br><span class="line">6 69220352 70268927 512.0 MiB 8200 Linux swap # 重点就是产生这东西！</span><br><span class="line">Command (? for help): w</span><br><span class="line">Do you want to proceed? (Y/N): y</span><br><span class="line">[root@study ~]# partprobe</span><br><span class="line">[root@study ~]# lsblk</span><br><span class="line">NAME MAJ:MIN RM SIZE RO TYPE MOUNTPOINT</span><br><span class="line">vda 252:0 0 40G 0 disk</span><br><span class="line">.....(中间省略).....</span><br><span class="line">`-vda6 252:6 0 512M 0 part # 确定这里是存在的才行！</span><br><span class="line"># 鸟哥有简化输出喔！结果可以看到我们多了一个 /dev/vda6 可以使用于 swap 喔</span><br></pre></td></tr></table></figure>
<ul>
<li>开始建置 swap 格式  </li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@study ~]# mkswap /dev/vda6</span><br><span class="line">Setting up swapspace version 1, size = 524284 KiB</span><br><span class="line">no label, UUID=6b17e4ab-9bf9-43d6-88a0-73ab47855f9d</span><br><span class="line">[root@study ~]# blkid /dev/vda6</span><br><span class="line">/dev/vda6: UUID=&quot;6b17e4ab-9bf9-43d6-88a0-73ab47855f9d&quot; TYPE=&quot;swap&quot;</span><br><span class="line"># 确定格式化成功！且使用 blkid 确实可以抓到这个装置了喔！</span><br></pre></td></tr></table></figure>
<ul>
<li>开始观察与加载看看吧！  </li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">[root@study ~]# free</span><br><span class="line">total used free shared buff/cache availableMem: 1275140 227244 330124 7804 717772 875536 # 物理内存</span><br><span class="line">Swap: 1048572 101340 947232 # swap 相关</span><br><span class="line"># 我有 1275140K 的物理内存，使用 227244K 剩余 330124K ，使用掉的内存有</span><br><span class="line"># 717772K 用在缓冲/快取的用途中。至于 swap 已经有 1048572K 啰！这样会看了吧？！</span><br><span class="line">[root@study ~]# swapon /dev/vda6</span><br><span class="line">[root@study ~]# free</span><br><span class="line">total used free shared buff/cache available</span><br><span class="line">Mem: 1275140 227940 329256 7804 717944 874752</span><br><span class="line">Swap: 1572856 101260 1471596 &lt;==有看到增加了没？</span><br><span class="line">[root@study ~]# swapon -s</span><br><span class="line">Filename Type Size Used Priority</span><br><span class="line">/dev/dm-1 partition 1048572 101260 -1</span><br><span class="line">/dev/vda6 partition 524284 0 -2</span><br><span class="line"># 上面列出目前使用的 swap 装置有哪些的意思！</span><br><span class="line">[root@study ~]# nano /etc/fstab</span><br><span class="line">UUID=&quot;6b17e4ab-9bf9-43d6-88a0-73ab47855f9d&quot; swap swap defaults 0 0</span><br><span class="line"># 当然要写入配置文件，只不过不是文件系统，所以没有挂载点！第二个字段写入 swap 即可。</span><br></pre></td></tr></table></figure>
<h4 id="6-5-2-使用文件建置swap"><a href="#6-5-2-使用文件建置swap" class="headerlink" title="6.5.2 使用文件建置swap"></a>6.5.2 使用文件建置swap</h4><ul>
<li>使用dd这个指令来新增一个128MB的文件在/tmp底下：</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@study ~]# dd if=/dev/zero of=/tmp/swap bs=1M count=128 </span><br><span class="line">128+0 records in </span><br><span class="line">128+0 records out </span><br><span class="line">134217728 bytes (134 MB) copied, 1.7066 seconds, 78.6 MB/s </span><br><span class="line"> </span><br><span class="line">[root@study ~]# ll -h /tmp/swap </span><br><span class="line">-rw-r--r--. 1 root root 128M Jun 26 17:47 /tmp/swap</span><br></pre></td></tr></table></figure>
<ul>
<li>使用 mkswap 将 /tmp/swap 这个文件格式化为 swap 的文件格式：</li>
<li>使用 swapon 来将 /tmp/swap 启动啰！</li>
<li>使用 swapoff 关掉 swap file，并设定自动启用</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[root@study ~]# nano /etc/fstab </span><br><span class="line">/tmp/swap  swap  swap  defaults  0  0 </span><br><span class="line"># 为何这里不要使用 UUID 呢？这是因为系统仅会查询成组设备 (block device) 不会查询文件！ </span><br><span class="line"># 所以，这里千万不要使用 UUID，不然系统会查不到喔！ </span><br><span class="line"> </span><br><span class="line">[root@study ~]# swapoff /tmp/swap /dev/vda6 </span><br><span class="line">[root@study ~]# swapon -s </span><br><span class="line">Filename                                Type            Size    Used    Priority </span><br><span class="line">/dev/dm-1                               partition       1048572 100380  -1 </span><br><span class="line"># 确定已经回复到原本的状态了！然后准备来测试！！ </span><br><span class="line"> </span><br><span class="line">[root@study ~]# swapon -a </span><br><span class="line">[root@study ~]# swapon -s </span><br><span class="line"># 最终你又会看正确的三个 swap 出现啰！这也才确定你的 /etc/fstab 设定无误！</span><br></pre></td></tr></table></figure>
<h3 id="6-6-文件系统的特殊观察与操作"><a href="#6-6-文件系统的特殊观察与操作" class="headerlink" title="6.6 文件系统的特殊观察与操作"></a>6.6 文件系统的特殊观察与操作</h3><h4 id="6-6-1-磁盘空间之浪费问题"><a href="#6-6-1-磁盘空间之浪费问题" class="headerlink" title="6.6.1 磁盘空间之浪费问题"></a>6.6.1 磁盘空间之浪费问题</h4><p>​    一个 block 只能放置一个文件， 因此太多小文件将会浪费非常多的磁盘容量。</p>
<h4 id="6-6-2-利用-GNU-的-parted-进行分区行为-Optional"><a href="#6-6-2-利用-GNU-的-parted-进行分区行为-Optional" class="headerlink" title="6.6.2 利用 GNU 的 parted 进行分区行为(Optional)"></a>6.6.2 利用 GNU 的 parted 进行分区行为(Optional)</h4><p>​        如果你想要将原本的 MBR 改成 GPT 分区表，或原本的 GPT 分区表改成 MBR 分区表，也能使用 parted ！ 但是请不要使用 vda 来测试！因为分区表格式不能转换！因此进行底下的测试后，在该磁盘的系统应该是会损毁的！</p>
<h2 id="七、文件与文件系统的压缩，打包与备份"><a href="#七、文件与文件系统的压缩，打包与备份" class="headerlink" title="七、文件与文件系统的压缩，打包与备份"></a>七、文件与文件系统的压缩，打包与备份</h2><h3 id="7-1压缩文件的用途与技术"><a href="#7-1压缩文件的用途与技术" class="headerlink" title="7.1压缩文件的用途与技术"></a>7.1压缩文件的用途与技术</h3><p>​        计算机工程师就利用一些复杂的计算方式， 将这些没有使用到的空间『丢』出来，以让文件占用的空间变小！这就是压缩的技术</p>
<h3 id="7-2-Linux常见的压缩指令"><a href="#7-2-Linux常见的压缩指令" class="headerlink" title="7.2 Linux常见的压缩指令"></a>7.2 Linux常见的压缩指令</h3><h4 id="7-2-1-gzip，zcat-zmore-zless-zgrep"><a href="#7-2-1-gzip，zcat-zmore-zless-zgrep" class="headerlink" title="7.2.1 gzip，zcat/zmore/zless/zgrep"></a>7.2.1 gzip，zcat/zmore/zless/zgrep</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">[dmtsai@study ~]$ gzip [-cdtv#] 檔名 </span><br><span class="line">[dmtsai@study ~]$ zcat 檔名.gz.gz </span><br><span class="line">选项与参数： </span><br><span class="line">-c  ：将压缩的数据输出到屏幕上，可透过数据流重导向来处理； </span><br><span class="line">-d  ：解压缩的参数； </span><br><span class="line">-t  ：可以用来检验一个压缩文件的一致性～看看文件有无错误； </span><br><span class="line">-v  ：可以显示出原文件/压缩文件案的压缩比等信息； </span><br><span class="line">-#  ：# 为数字的意思，代表压缩等级，-1 最快，但是压缩比最差、-9 最慢，但是压缩比最好！预设是 -6 </span><br><span class="line"> </span><br><span class="line">范例一：找出 /etc 底下 (不含子目录) 容量最大的文件，并将它复制到 /tmp ，然后以 gzip 压缩 </span><br><span class="line">[dmtsai@study ~]$ ls -ldSr /etc/*   # 忘记选项意义？请自行 man 啰！ </span><br><span class="line">.....(前面省略)..... </span><br><span class="line">-rw-r--r--.  1 root root    25213 Jun 10  2014 /etc/dnsmasq.conf </span><br><span class="line">-rw-r--r--.  1 root root    69768 May  4 17:55 /etc/ld.so.cache </span><br><span class="line">-rw-r--r--.  1 root root   670293 Jun  7  2013 /etc/services </span><br><span class="line"> </span><br><span class="line">[dmtsai@study ~]$ cd /tmp  </span><br><span class="line">[dmtsai@study tmp]$ cp /etc/services . </span><br><span class="line">[dmtsai@study tmp]$ gzip -v services </span><br><span class="line">services:        79.7% -- replaced with services.gz </span><br><span class="line">[dmtsai@study tmp]$ llll /etc/services /tmp/services* </span><br><span class="line">-rw-r--r--. 1 root   root   670293 Jun  7  2013 /etc/services </span><br><span class="line">-rw-r--r--. 1 dmtsai dmtsai 136088 Jun 30 18:40 /tmp/services.gz</span><br></pre></td></tr></table></figure>
<p>当你使用 gzip 进行压缩时，在预设的状态下原本的文件会被压缩成为 .gz 的档名，源文件就不再存在了。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">范例二：由于 services 是文本文件，请将范例一的压缩文件的内容读出来！ </span><br><span class="line">[dmtsai@study tmp]$ zcat services.gz </span><br><span class="line"># 由于 services 这个原本的文件是是文本文件，因此我们可以尝试使用 zcat/zmore/zless 去读取！ </span><br><span class="line"># 此时屏幕上会显示 servcies.gz 解压缩之后的源文件内容！</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">范例三：将范例一的文件解压缩 </span><br><span class="line">[dmtsai@study tmp]$ gzip -d services.gz </span><br><span class="line"># 鸟哥不要使用 gunzip 这个指令，不好背！使用 gzip -d 来进行解压缩！ </span><br><span class="line"># 与 gzip 相反， gzip -d 会将原本的 .gz 删除，回复到原本的 services 文件。 </span><br><span class="line"> </span><br><span class="line">范例四：将范例三解开的 services 用最佳的压缩比压缩，并保留原本的文件 </span><br><span class="line">[dmtsai@study tmp]$ gzip -9 9 -c services &gt; services.gz </span><br><span class="line"> </span><br><span class="line">范例五：由范例四再次建立的 services.gz 中，找出 http 这个关键词在哪几行？ </span><br><span class="line">[dmtsai@study tmp]$ zgrep -n &apos;http&apos; services.gz </span><br><span class="line">14:#       http://www.iana.org/assignments/port-numbers </span><br><span class="line">89:http            80/tcp          www www-http    # WorldWideWeb HTTP </span><br><span class="line">90:http            80/udp          www www-http    # HyperText Transfer Protocol</span><br></pre></td></tr></table></figure>
<h4 id="7-2-2-bzip2-bzcat-bzmore-bzless-bzgrep"><a href="#7-2-2-bzip2-bzcat-bzmore-bzless-bzgrep" class="headerlink" title="7.2.2 bzip2,bzcat/bzmore/bzless/bzgrep"></a>7.2.2 bzip2,bzcat/bzmore/bzless/bzgrep</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">[dmtsai@study ~]$ bzip2 [-cdkzv#] 檔名 </span><br><span class="line">[dmtsai@study ~]$ bzcat 檔名.bz2 </span><br><span class="line">选项与参数： </span><br><span class="line">-c  ：将压缩的过程产生的数据输出到屏幕上！ </span><br><span class="line">-d  ：解压缩的参数 </span><br><span class="line">-k  ：保留源文件，而不会删除原始的文件喔！ </span><br><span class="line">-z  ：压缩的参数 (默认值，可以不加) </span><br><span class="line">-v  ：可以显示出原文件/压缩文件案的压缩比等信息； </span><br><span class="line">-#  ：与 gzip 同样的，都是在计算压缩比的参数， -9 最佳， -1 最快！ </span><br><span class="line"> </span><br><span class="line">范例一：将刚刚 gzip 范例留下来的 /tmp/services 以 bzip2 压缩 </span><br><span class="line">[dmtsai@study tmp]$ bzip2 -v services </span><br><span class="line">  services:  5.409:1,  1.479 bits/byte, 81.51% saved, 670293 in, 123932 out. </span><br><span class="line">[dmtsai@study tmp]$ ls -l services* </span><br><span class="line">-rw-r--r--. 1 dmtsai dmtsai 123932 Jun 30 18:40 services.bz2 </span><br><span class="line">-rw-rw-r--. 1 dmtsai dmtsai 135489 Jun 30 18:46 services.gz </span><br><span class="line"># 此时 services 会变成 services.bz2 之外，你也可以发现 bzip2 的压缩比要较 gzip 好喔！！ </span><br><span class="line"># 压缩率由 gzip 的 79% 提升到 bzip2 的 81% 哩！ </span><br><span class="line"> </span><br><span class="line">范例二：将范例一的文件内容读出来！ </span><br><span class="line">[dmtsai@study tmp]$ bzcat services.bz2 </span><br><span class="line"> </span><br><span class="line">范例三：将范例一的文件解压缩 </span><br><span class="line">[dmtsai@study tmp]$ bzip2 -d services.bz2 </span><br><span class="line"> </span><br><span class="line">范例四：将范例三解开的 services 用最佳的压缩比压缩，并保留原本的文件 </span><br><span class="line">[dmtsai@study tmp]$ bzip2 -9 9 -c services &gt; services.bz2</span><br></pre></td></tr></table></figure>
<p>使用和gzip一模一样，压缩率要更好一些，但是对于大文件需要的时间要长</p>
<h4 id="7-2-3-xz-xzcat-xzmore-xzless-xzgrep"><a href="#7-2-3-xz-xzcat-xzmore-xzless-xzgrep" class="headerlink" title="7.2.3 xz, xzcat/xzmore/xzless/xzgrep"></a>7.2.3 xz, xzcat/xzmore/xzless/xzgrep</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">[dmtsai@study ~]$ xz [-dtlkc#] 檔名 </span><br><span class="line">[dmtsai@study ~]$ xcat 檔名.xz.xz </span><br><span class="line">选项与参数： </span><br><span class="line">-d  ：就是解压缩啊！ </span><br><span class="line">-t  ：测试压缩文件的完整性，看有没有错误 </span><br><span class="line"></span><br><span class="line">-l  ：列出压缩文件的相关信息 </span><br><span class="line">-k  ：保留原本的文件不删除～ </span><br><span class="line">-c  ：同样的，就是将数据由屏幕上输出的意思！ </span><br><span class="line">-#  ：同样的，也有较佳的压缩比的意思！ </span><br><span class="line"> </span><br><span class="line">范例一：将刚刚由 bzip2 所遗留下来的 /tmp/services 透过 xz 来压缩！ </span><br><span class="line">[dmtsai@study tmp]$ xz -v services </span><br><span class="line">services (1/1) </span><br><span class="line">  100 %        97.3 KiB / 654.6 KiB = 0.149 </span><br><span class="line"> </span><br><span class="line">[dmtsai@study tmp]$ ls -l services* </span><br><span class="line">-rw-rw-r--. 1 dmtsai dmtsai 123932 Jun 30 19:09 services.bz2 </span><br><span class="line">-rw-rw-r--. 1 dmtsai dmtsai 135489 Jun 30 18:46 services.gz </span><br><span class="line">-rw-r--r--. 1 dmtsai dmtsai  99608 Jun 30 18:40 services.xz </span><br><span class="line"># 各位观众！看到没有啊！！容量又进一步下降的更多耶！好棒的压缩比！ </span><br><span class="line"> </span><br><span class="line">范例二：列出这个压缩文件的信息，然后读出这个压缩文件的内容 </span><br><span class="line">[dmtsai@study tmp]$ xz -l services.xz </span><br><span class="line">Strms  Blocks   Compressed Uncompressed  Ratio  Check   Filename </span><br><span class="line">    1       1     97.3 KiB    654.6 KiB  0.149  CRC64   services.xz </span><br><span class="line"># 竟然可以列出这个文件的压缩前后的容量，真是太人性化了！这样观察就方便多了！ </span><br><span class="line"> </span><br><span class="line">[dmtsai@study tmp]$ xzcat services.xz </span><br><span class="line"> </span><br><span class="line">范例三：将他解压缩吧！ </span><br><span class="line">[dmtsai@study tmp]$ xz -d services.xz </span><br><span class="line"> </span><br><span class="line">范例四：保留原文件的档名，并且建立压缩文件！ </span><br><span class="line">[dmtsai@study tmp]$ xz -k services</span><br></pre></td></tr></table></figure>
<h3 id="7-3-打包指令：tar"><a href="#7-3-打包指令：tar" class="headerlink" title="7.3 打包指令：tar"></a>7.3 打包指令：tar</h3><ul>
<li><p>压缩：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">tar -jcv -f filename.tar.bz2 要被压缩的</span><br><span class="line">tar -jtv -f filename.tar.bz2 查 询</span><br><span class="line">tar -jxv -f filename.tar.bz2 -C 欲解压缩的目录 解压缩：</span><br></pre></td></tr></table></figure>
<ul>
<li>​    </li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">选项与参数： </span><br><span class="line">-c  ：建立打包文件，可搭配 -v 来察看过程中被打包的档名(filename) </span><br><span class="line">-t  ：察看打包文件的内容含有哪些档名，重点在察看『档名』就是了； </span><br><span class="line">-x  ：解打包或解压缩的功能，可以搭配 -C (大写) 在特定目录解开 </span><br><span class="line">      特别留意的是， -c, -t, -x 不可同时出现在一串指令列中。 </span><br><span class="line">-z  ：透过 gzip  的支持进行压缩/解压缩：此时档名最好为 *.tar.gz </span><br><span class="line">-j  ：透过 bzip2 的支持进行压缩/解压缩：此时档名最好为 *.tar.bz2 </span><br><span class="line">-J  ：透过 xz    的支持进行压缩/解压缩：此时档名最好为 *.tar.xz </span><br><span class="line">      特别留意， -z, -j, -J 不可以同时出现在一串指令列中 </span><br><span class="line">-v  ：在压缩/解压缩的过程中，将正在处理的文件名显示出来！ </span><br><span class="line">-f filename：-f 后面要立刻接要被处理的档名！建议 -f 单独写一个选项啰！(比较不会忘记) </span><br><span class="line">-C 目录    ：这个选项用在解压缩，若要在特定目录解压缩，可以使用这个选项。 </span><br><span class="line"> </span><br><span class="line">其他后续练习会使用到的选项介绍： </span><br><span class="line">-p(小写) ：保留备份数据的原本权限与属性，常用于备份(-c)重要的配置文件 </span><br><span class="line">-P(大写) ：保留绝对路径，亦即允许备份数据中含有根目录存在之意； </span><br><span class="line">--exclude=FILE：在压缩的过程中，不要将 FILE 打包</span><br></pre></td></tr></table></figure>
<p>如果加上 -P 选项，那么文件名内的根目录就会存在喔！不过，鸟哥个人建议，还是不要加上 -P 这个选项来备份！ 毕竟很多时候，我们备份是为了要未来追踪问题用的，倒不一定需要还原回原本的系统中！ 所以拿掉根目录后，备份数据的应用会比较有弹性！也比较安全呢！</p>
</li>
<li><p>查阅内容</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@study ~]# tar -jtv -f /root/etc.tar.bz2</span><br></pre></td></tr></table></figure>
</li>
<li><p>解压缩</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@study ~]# tar -jxv -f /root/etc.tar.bz2 </span><br><span class="line">[root@study ~]# ll </span><br><span class="line">....(前面省略).... </span><br><span class="line">drwxr-xr-x. 131 root root    8192 Jun 26 22:14 etc</span><br></pre></td></tr></table></figure>
<ul>
<li><p>解压缩到指定文件 -C</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 解压缩到指定文件 -C</span><br><span class="line">[root@study ~]# tar -jxv -f /root/etc.tar.bz2 -C /tmp </span><br><span class="line">[root@study ~]# ll /tmp </span><br><span class="line">....(前面省略).... </span><br><span class="line">drwxr-xr-x. 131 root   root</span><br></pre></td></tr></table></figure>
</li>
<li><p>解压缩单一文件的方法</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"># 1. 先找到我们要的档名，假设解开 shadow 文件好了： </span><br><span class="line">[root@study ~]# tar -jtv jtv -f /root/etc.tar.bz2 | grep &apos;shadow&apos; </span><br><span class="line">---------- root/root       721 2015-06-17 00:20 etc/gshadow </span><br><span class="line">---------- root/root      1183 2015-06-17 00:20 etc/shadow- </span><br><span class="line">---------- root/root      1210 2015-06-17 00:20 etc/shadow  &lt;==这是我们要的！ </span><br><span class="line">---------- root/root       707 2015-06-17 00:20 etc/gshadow- </span><br><span class="line"># 先搜寻重要的档名！其中那个 grep 是『撷取』关键词的功能！我们会在第三篇说明！ </span><br><span class="line"># 这里您先有个概念即可！那个管线 | 配合 grep 可以撷取关键词的意思！ </span><br><span class="line"> </span><br><span class="line"># 2. 将该文件解开！语法与实际作法如下： </span><br><span class="line">[root@study ~]# tar -jxv -f f 打包檔.tar.bz2 待解待解开档开档名 </span><br><span class="line">[root@study ~]# tar -jxv -f /root/etc.tar.bz2 etc/shadow </span><br><span class="line">etc/shadow </span><br><span class="line">[root@study ~]# ll etc </span><br><span class="line">total 4 </span><br><span class="line">----------. 1 root root 1210 Jun 17 00:20 shadow </span><br><span class="line"># 很有趣！此时只会解开一个文件而已！不过，重点是那个档名！你要找到正确的档名。 </span><br><span class="line"># 在本例中，你不能写成 /etc/shadow ！因为记录在 etc.tar.bz2 内的并没有 / 之故！</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<ul>
<li><p>打包某目录，但不包含目录下的某些文件之作法 –exclude</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@study ~]# tar -jcv  -f /root/system.tar.bz2 ----exclude=/root/etc* \ </span><br><span class="line">&gt; ----exclude=/root/system.tar.bz2  /etc /root</span><br></pre></td></tr></table></figure>
<p>上面的指令是一整列的～其实你可以打成：『tar -jcv -f /root/system.tar.bz2 –exclude=/root/etc* –exclude=/root/system.tar.bz2 /etc /root』，如果想要两行输入时，最后面加上反斜杠 () 并立刻按下 [enter] ， 就能够到第二行继续输入了。</p>
</li>
<li><p>仅备份比某个时刻还要新的文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"># 1. 先由 find 找出比 /etc/passwd 还要新的文件 </span><br><span class="line">[root@study ~]# find /etc -newer /etc/passwd </span><br><span class="line">....(过程省略).... </span><br><span class="line"># 此时会显示出比 /etc/passwd 这个文件的 mtime 还要新的档名， </span><br><span class="line"># 这个结果在每部主机都不相同！您先自行查阅自己的主机即可，不会跟鸟哥一样！ </span><br><span class="line"> </span><br><span class="line">[root@study ~]# ll /etc/passwd </span><br><span class="line">-rw-r--r--. 1 root root 2092  Jun 17 00:20 /etc/passwd </span><br><span class="line"> </span><br><span class="line"># 2. 好了，那么使用 tar 来进行打包吧！日期为上面看到的 2015/06/17 </span><br><span class="line">[root@study ~]# tar -jcv jcv -f /root/etc.newer.then.passwd.tar.bz2 \ </span><br><span class="line">&gt; --newer-mtime=&quot;2015/06/17&quot; /etc/* </span><br><span class="line">tar: Option --newer-mtime: Treating date `2015/06/17&apos; as 2015-06-17 00:00:00 </span><br><span class="line">tar: Removing leading `/&apos; from member names </span><br><span class="line">/etc/abrt/ </span><br><span class="line">....(中间省略).... </span><br><span class="line">/etc/alsa/ </span><br><span class="line">/etc/yum.repos.d/ </span><br><span class="line">....(中间省略).... </span><br><span class="line">tar: /etc/yum.repos.d/CentOS-fasttrack.repo: file is unchanged; not dumped </span><br><span class="line"># 最后行显示的是『没有被备份的』，亦即 not dumped 的意思！ </span><br><span class="line"> </span><br><span class="line"># 3. 显示出文件即可 </span><br><span class="line">[root@study ~]# tar -jtv jtv -f /root/etc.newer.then.passwd.tar.bz2 | grep -v &apos;/$&apos;v &apos;/$&apos;  </span><br><span class="line"># 透过这个指令可以呼叫出 tar.bz2 内的结尾非 / 的檔名！就是我们要的啦！</span><br></pre></td></tr></table></figure>
</li>
<li><p>基本名称：tarfile,tarball</p>
<p> 如果仅是打包而已，就是『 tar -cv -f file.tar 』而已，这个文件我们称呼为 tarfile 。 如果还有进行压缩的支持，例如『 tar -jcv -f file.tar.bz2 』时，我们就称呼为 tarball (tar 球？)！</p>
</li>
<li><p>特殊应用：利用管线命令与数据流</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># 1. 将 /etc 整个目录一边打包一边在 /tmp 解开 </span><br><span class="line">[root@study ~]# cd /tmp </span><br><span class="line">[root@study tmp]# tar -cvf - /etc | tar -xvf xvf - </span><br><span class="line"># 这个动作有点像是 cp -r /etc /tmp 啦～依旧是有其有用途的！ </span><br><span class="line"># 要注意的地方在于输出档变成 - 而输入档也变成 - ，又有一个 | 存在～ </span><br><span class="line"># 这分别代表 standard output, standard input 与管线命令啦！ </span><br><span class="line"># 简单的想法中，你可以将 - 想成是在内存中的一个装置(缓冲区)。 </span><br><span class="line"># 更详细的数据流与管线命令，请翻到 bash 章节啰！</span><br></pre></td></tr></table></figure>
</li>
<li><p>解压缩后的SELlinux课题</p>
<p>SELinux 的权限问题『可能会让你的系统无法存取某些配置文件内容，导致影响到系统的正常使用权』。</p>
<ul>
<li>透过各种可行的救援方式登入系统，然后修改 /etc/selinux/config 文件，将 SELinux 改成 permissive 模式，重新启动后系统就正常了； </li>
<li>在第一次复原系统后，不要立即重新启动！先使用 restorecon -Rv /etc 自动修复一下 SELinux 的类型即可。 </li>
<li>透过各种可行的方式登入系统，建立 /.autorelabel 文件，重新启动后系统会自动修复 SELinux 的类型，并且又会再次重新启动，之后就正常了！</li>
</ul>
</li>
</ul>
<h3 id="7-4-XFS文件系统的备份与还原"><a href="#7-4-XFS文件系统的备份与还原" class="headerlink" title="7.4 XFS文件系统的备份与还原"></a>7.4 XFS文件系统的备份与还原</h3><h4 id="7-4-1-XFS-文件系统备份-xfsdump"><a href="#7-4-1-XFS-文件系统备份-xfsdump" class="headerlink" title="7.4.1 XFS 文件系统备份 xfsdump"></a>7.4.1 XFS 文件系统备份 xfsdump</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@study ~]# xfsdump [-L S_label] [-M M_label] [-l #] [-f f 备份档] ] 待备份资料 </span><br><span class="line">[root@study ~]# xfsdump -I </span><br><span class="line"></span><br><span class="line">选项与参数： </span><br><span class="line">-L  ：xfsdump 会纪录每次备份的 session 标头，这里可以填写针对此文件系统的简易说明 </span><br><span class="line">-M  ：xfsdump 可以纪录储存媒体的标头，这里可以填写此媒体的简易说明 </span><br><span class="line">-l  ：是 L 的小写，就是指定等级～有 0~9 共 10 个等级喔！ (预设为 0，即完整备份) </span><br><span class="line">-f  ：有点类似 tar 啦！后面接产生的文件，亦可接例如 /dev/st0 装置文件名或其他一般文件档名等 </span><br><span class="line">-I  ：从 /var/lib/xfsdump/inventory 列出目前备份的信息状态</span><br></pre></td></tr></table></figure>
<ul>
<li>用xfsdump备份完整的文件系统</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"># 1. 先确定 /boot 是独立的文件系统喔！ </span><br><span class="line">[root@study ~]# df -h /boot </span><br><span class="line">Filesystem      Size  Used Avail Use% Mounted on </span><br><span class="line">/dev/vda2      1014M  131M  884M  13% /boot      # 挂载 /boot 的是 /dev/vda 装置！ </span><br><span class="line"># 看！确实是独立的文件系统喔！ /boot 是挂载点！ </span><br><span class="line"> </span><br><span class="line"># 2. 将完整备份的文件名记录成为 /srv/boot.dump ： </span><br><span class="line">[root@study ~]# xfsdump -l 0 -L boot_all -M boot_all -f /srv/boot.dump /boot</span><br><span class="line"># 在指令的下达方面，你也可以不加 -L 及 -M 的，只是那就会进入互动模式，要求你 enter！ </span><br><span class="line"># 而执行 xfsdump 的过程中会出现如上的一些讯息，您可以自行仔细的观察！ </span><br><span class="line"> </span><br><span class="line">[root@study ~]# ll /srv/boot.dump </span><br><span class="line">-rw-r--r--. 1 root root 102872168 Jul  1 18:43 /srv/boot.dump </span><br><span class="line"> </span><br><span class="line">[root@study ~]# ll /var/lib/xfsdump/inventory</span><br></pre></td></tr></table></figure>
<ul>
<li>用xfsdump进行累计备份（Incremental backups）</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"># 0. 看一下有没有任何文件系统被 xfsdump 过的资料？ </span><br><span class="line">[root@study ~]# xfsdump -I</span><br><span class="line"># 我们可以看到目前仅有一个 session 0 的备份资料而已！而且是 level 0 喔！ </span><br><span class="line"> </span><br><span class="line"># 1. 先恶搞一下，建立一个大约 10 MB 的文件在 /boot 内： </span><br><span class="line">[root@study ~]# dd if=/dev/zero of=/boot/testing.img bs=1M count=10 </span><br><span class="line">10+0 records in </span><br><span class="line">10+0 records out </span><br><span class="line">10485760 bytes (10 MB) copied, 0.166128 seconds, 63.1 MB/s </span><br><span class="line"> </span><br><span class="line"># 2. 开始建立差异备份档，此时我们使用 level 1 吧： </span><br><span class="line">[root@study ~]# xfsdump -l 1 -L boot_2 -M boot_2 -f /srv/boot.dump1 /boot </span><br><span class="line">....(中间省略).... </span><br><span class="line"> </span><br><span class="line">[root@study ~]# ll /srv/boot* </span><br><span class="line">-rw-r--r--. 1 root root 102872168 Jul  1 18:43 /srv/boot.dump </span><br><span class="line">-rw-r--r--. 1 root root  10510952 Jul  1 18:46 /srv/boot.dump1 </span><br><span class="line"># 看看文件大小，岂不是就是刚刚我们所建立的那个大文件的容量吗？ ^_^ </span><br><span class="line"> </span><br><span class="line"># 3. 最后再看一下是否有记录 level 1 备份的时间点呢？ </span><br><span class="line">[root@study ~]# xfsdump -I</span><br><span class="line">file system 0: </span><br><span class="line">    fs id:          94ac5f77-cb8a-495e-a65b-2ef7442b837c </span><br><span class="line">    session 0: </span><br><span class="line">        mount point:    study.centos.vbird:/boot </span><br><span class="line">        device:         study.centos.vbird:/dev/vda2 </span><br><span class="line">....(中间省略).... </span><br><span class="line"> </span><br><span class="line">    session 1: </span><br><span class="line">        mount point:    study.centos.vbird:/boot </span><br><span class="line">        device:         study.centos.vbird:/dev/vda2 </span><br><span class="line">        time:           Wed Jul  1 18:46:21 2015 </span><br><span class="line">        session label:  &quot;boot_2&quot; </span><br><span class="line">        session id:     c71d1d41-b3bb-48ee-bed6-d77c939c5ee8 </span><br><span class="line">        level:          1 </span><br><span class="line">        resumed:        NO</span><br><span class="line">....(中间省略)....</span><br></pre></td></tr></table></figure>
<h4 id="7-4-2-XFS-文件体统还原-xfsrestore"><a href="#7-4-2-XFS-文件体统还原-xfsrestore" class="headerlink" title="7.4.2 XFS 文件体统还原 xfsrestore"></a>7.4.2 XFS 文件体统还原 xfsrestore</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[root@study ~]# xfsrestore -I                                             &lt;==用来察看备份文件资料 </span><br><span class="line">[root@study ~]# xfsrestore [-f f 备份档] [] [-L S_label] [-s] s] 待复原目录 &lt;==单一文件全系统复原 </span><br><span class="line">[root@study ~]# xfsrestore [-f f 备份文件] ] -r r 待复原目录                &lt;==透过累积备份文件来复原系统 </span><br><span class="line">[root@study ~]# xfsrestore [-f f 备份文件] ] -i i 待复原目录                &lt;==进入互动模式 </span><br><span class="line">选项与参数： </span><br><span class="line">-I  ：跟 xfsdump 相同的输出！可查询备份数据，包括 Label 名称与备份时间等 </span><br><span class="line">-f  ：后面接的就是备份档！企业界很有可能会接 /dev/st0 等磁带机！我们这里接档名！ </span><br><span class="line">-L  ：就是 Session 的 Label name 喔！可用 -I 查询到的数据，在这个选项后输入！ </span><br><span class="line">-s  ：需要接某特定目录，亦即仅复原某一个文件或目录之意！ </span><br><span class="line">-r  ：如果是用文件来储存备份数据，那这个就不需要使用。如果是一个磁带内有多个文件， </span><br><span class="line">      需要这东西来达成累积复原 </span><br><span class="line">-i  ：进入互动模式，进阶管理员使用的！一般我们不太需要操作它！</span><br></pre></td></tr></table></figure>
<ul>
<li>用xfsrestore观察xfsdump后的备份数据内容</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">[root@study ~]# xfsrestore -I</span><br><span class="line">file system 0: </span><br><span class="line">    fs id:          94ac5f77-cb8a-495e-a65b-2ef7442b837c </span><br><span class="line">    session 0: </span><br><span class="line">        mount point:    study.centos.vbird:/boot </span><br><span class="line">        device:         study.centos.vbird:/dev/vda2 </span><br><span class="line">        time:           Wed Jul  1 18:43:04 2015 </span><br><span class="line">        session label:  &quot;boot_all&quot; </span><br><span class="line">        session id:     418b563f-26fa-4c9b-98b7-6f57ea</span><br><span class="line">                pathname:       /srv/boot.dump </span><br><span class="line">                        mfile size:     102872168 </span><br><span class="line">                        media label:    &quot;boot_all&quot; </span><br><span class="line">    session 1: </span><br><span class="line">        mount point:    study.centos.vbird:/boot </span><br><span class="line">        device:         study.centos.vbird:/dev/vda2 </span><br><span class="line">        time:           Wed Jul  1 18:46:21 2015 </span><br><span class="line">        session label:  &quot;boot_2&quot; </span><br><span class="line">        session id:     c71d1d41-b3bb-48ee-bed6-d77c939c5ee8 </span><br><span class="line">        level:          1 </span><br><span class="line">                pathname:       /srv/boot.dump1 </span><br><span class="line">                        mfile size:     10510952 </span><br><span class="line">                        media label:    &quot;boot_2&quot; </span><br><span class="line">xfsrestore: Restore Status: SUCCESS </span><br><span class="line"># 鸟哥已经将不重要的项目删除了，所以上面的输出是经过经简化的结果！ </span><br><span class="line"># 我们可以看到这个文件系统是 /boot 载点，然后有两个备份，一个 level 0 一个 level 1。 </span><br><span class="line"># 也看到这两个备份的资料他的内容大小！更重要的，就是那个 session label 喔！</span><br></pre></td></tr></table></figure>
<ul>
<li>简单复原level 0的文件系统</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"># 1. 直接将数据给它覆盖回去即可！ </span><br><span class="line">[root@study ~]# xfsrestore -f /srv/boot.dump -L boot_all /boot</span><br><span class="line"># 2. 将备份资料在 /tmp/boot 底下解开！ </span><br><span class="line"></span><br><span class="line">[root@study ~]# mkdir /tmp/boot </span><br><span class="line">[root@study ~]# xfsrestore -f /srv/boot.dump -L boot_all /tmp/boot </span><br><span class="line">[root@study ~]# du -sm /boot /tmp/boot </span><br><span class="line">109     /boot </span><br><span class="line">99      /tmp/boot </span><br><span class="line"># 咦！两者怎么大小不一致呢？没关系！我们来检查看看！ </span><br><span class="line"> </span><br><span class="line">[root@study ~]# diff -r /boot /tmp/boot </span><br><span class="line">Only in /boot: testing.img </span><br><span class="line"># 看吧！原来是 /boot 我们有增加过一个文件啦！</span><br><span class="line"># 3. 仅复原备份档内的 grub2 到 /tmp/boot2/ 里头去！ </span><br><span class="line">[root@study ~]# mkdir /tmp/boot2 </span><br><span class="line">[root@study ~]# xfsrestore -f /srv/boot.dump -L boot_all -s grub2 /tmp/boot2</span><br></pre></td></tr></table></figure>
<ul>
<li>复原累积备份资料</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 继续复原 level 1 到 /tmp/boot 当中！ </span><br><span class="line">[root@study ~]# xfsrestore -f /srv/boot.dump1 /tmp/boot</span><br></pre></td></tr></table></figure>
<ul>
<li>仅还原部分文件的xfsrestore互动模式</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"># 1. 先进入备份文件内，准备找出需要备份的文件名数据，同时预计还原到 /tmp/boot3 当中！ </span><br><span class="line">[root@study ~]# mkdir /tmp/boot3 </span><br><span class="line">[root@study ~]# xfsrestore -f /srv/boot.dump -i /tmp/boot3 </span><br><span class="line"> ========================== subtree selection dialog ========================== </span><br><span class="line"></span><br><span class="line"> </span><br><span class="line">the following commands are available: </span><br><span class="line">        pwd </span><br><span class="line">        ls [ &lt;path&gt; ] </span><br><span class="line">        cd [ &lt;path&gt; ] </span><br><span class="line">        add [ &lt;path&gt; ]       # 可以加入复原文件列表中 </span><br><span class="line">        delete [ &lt;path&gt; ]    # 从复原列表拿掉档名！并非删除喔！ </span><br><span class="line">        extract              # 开始复原动作！ </span><br><span class="line">        quit </span><br><span class="line">        help </span><br><span class="line"> </span><br><span class="line"> -&gt; ls </span><br><span class="line">          455517 initramfs-3.10.0-229.el7.x86_64kdump.img </span><br><span class="line">             138 initramfs-3.10.0-229.el7.x86_64.img </span><br><span class="line">             141 initrd-plymouth.img </span><br><span class="line">             140 vmlinuz-0-rescue-309eb890d09f440681f596543d95ec7a </span><br><span class="line">             139 initramfs-0-rescue-309eb890d09f440681f596543d95ec7a.img </span><br><span class="line">             137 vmlinuz-3.10.0-229.el7.x86_64 </span><br><span class="line">             136 symvers-3.10.0-229.el7.x86_64.gz </span><br><span class="line">             135 config-3.10.0-229.el7.x86_64 </span><br><span class="line">             134 System.map-3.10.0-229.el7.x86_64 </span><br><span class="line">             133 .vmlinuz-3.10.0-229.el7.x86_64.hmac </span><br><span class="line">         1048704 grub2/ </span><br><span class="line">             131 grub/ </span><br><span class="line"> </span><br><span class="line"> -&gt; add grub </span><br><span class="line"> -&gt; add grub2 </span><br><span class="line"> -&gt; add config-3.10.0-229.el7.x86_64 </span><br><span class="line"> -&gt; extract </span><br><span class="line"> </span><br><span class="line">[root@study ~]# ls -l /tmp/boot3 </span><br><span class="line">-rw-r--r--. 1 root root 123838 Mar  6 19:45 config-3.10.0-229.el7.x86_64 </span><br><span class="line">drwxr-xr-x. 2 root root     26 May  4 17:52 grub </span><br><span class="line">drwxr-xr-x. 6 root root    104 Jun 25 00:02 grub2 </span><br><span class="line"># 就只会有 3 个档名被复原，当然，如果文件名是目录，那底下的子文件当然也会被还原回来的！</span><br></pre></td></tr></table></figure>
<h3 id="7-5-光盘写入工具"><a href="#7-5-光盘写入工具" class="headerlink" title="7.5 光盘写入工具"></a>7.5 光盘写入工具</h3><ul>
<li>先将所需要备份的数据建置成为一个映像档(iso)，利用 mkisofs 指令来处理；</li>
<li>将该映像文件刻录至光盘或 DVD 当中，利用 cdrecord 指令来处理。</li>
</ul>
<h4 id="7-5-1-mkisofs：建立映像档"><a href="#7-5-1-mkisofs：建立映像档" class="headerlink" title="7.5.1 mkisofs：建立映像档"></a>7.5.1 mkisofs：建立映像档</h4><ul>
<li>制作一般数据光盘映像文件 mkisofs</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@study ~]# mkisofs [-o o 映像档] [] [-Jrv] [-V vol] [-m file] 待备份文件份文件... ... \ </span><br><span class="line">&gt;  -graft-point isodir=systemdir ... </span><br><span class="line">选项与参数： </span><br><span class="line">-o ：后面接你想要产生的那个映像档档名。 </span><br><span class="line">-J ：产生较兼容于 windows 机器的文件名结构，可增加文件名长度到 64 个 unicode 字符 </span><br><span class="line">-r ：透过 Rock Ridge 产生支持 Unix/Linux 的文件数据，可记录较多的信息(如 UID/GID 等) ； </span><br><span class="line">-v ：显示建置 ISO 文件的过程 </span><br><span class="line">-V vol  ：建立 Volume，有点像 Windows 在文件总管内看到的 CD title 的东西 </span><br><span class="line">-m file ：-m 为排除文件 (exclude) 的意思，后面的文件不备份到映像档中，也能使用 * 通配符喔 </span><br><span class="line">-graft-point：graft 有转嫁或移植的意思，相关资料在底下文章内说明。</span><br></pre></td></tr></table></figure>
<p>​       光盘的格式一般称为 iso9660 ，这种格式一般仅支持旧版的 DOS 檔名，亦即檔名只能以 8.3 (文件名 8 个字符，扩展名 3 个字符) 的方式存在。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">[root@study ~]# ll -h /tmp/system.img </span><br><span class="line">-rw-r--r--. 1 root root 117M Jul  2 18:48 /tmp/system.img </span><br><span class="line"> </span><br><span class="line">[root@study ~]# mount -o loop /tmp/system.img /mnt </span><br><span class="line">[root@study ~]# df -h /mnt </span><br><span class="line">Filesystem      Size  Used Avail Use% Mounted on </span><br><span class="line"></span><br><span class="line">/dev/loop0      117M  117M     0 100% /mnt </span><br><span class="line"> </span><br><span class="line">[root@study ~]# ls /mnt </span><br><span class="line">abrt            festival          mail.rc                   rsyncd.conf </span><br><span class="line">adjtime         filesystems       makedumpfile.conf.sample  rsyslog.conf </span><br><span class="line">alex            firewalld         man_db.conf               rsyslog.d </span><br><span class="line"># 看吧！一堆数据都放置在一起！包括有的没有的目录与文件等等！ </span><br><span class="line"> </span><br><span class="line">[root@study ~]# umount /mnt </span><br><span class="line"># 测试完毕要记得卸除！</span><br></pre></td></tr></table></figure>
<ul>
<li>-graft-point</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[root@study ~]# mkisofs -r r -V &apos;linux_file&apos; -o /tmp/system.img \ </span><br><span class="line">&gt;  -m /root/etc -graft-point /root=/root /home=/home /etc=/etc </span><br><span class="line">[root@study ~]# ll -h /tmp/system.img </span><br><span class="line">-rw-r--r--. 1 root root 92M Jul  2 19:00 /tmp/system.img </span><br><span class="line"># 上面的指令会建立一个大文件，其中 -graft-point 后面接的就是我们要备份的数据。 </span><br><span class="line"># 必须要注意的是那个等号的两边，等号左边是在映像文件内的目录，右侧则是实际的数据。 </span><br><span class="line"> </span><br><span class="line">[root@study ~]# mount -o loop /tmp/system.img /mnt/mnt </span><br><span class="line">[root@study ~]# ll /mnt </span><br><span class="line">dr-xr-xr-x. 131 root root 34816 Jun 26 22:14 etc </span><br><span class="line">dr-xr-xr-x.   5 root root  2048 Jun 17 00:20 home </span><br><span class="line">dr-xr-xr-x.   8 root root  4096 Jul  2 18:48 root </span><br><span class="line"># 瞧！数据是分门别类的在各个目录中喔这样了解乎？最后将数据卸除一下： </span><br><span class="line"> </span><br><span class="line">[root@study ~]# umount /mnt</span><br></pre></td></tr></table></figure>
<ul>
<li>制作修改可开机光盘映像档</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">1、先观察一下这片光盘里面有什么东西</span><br><span class="line">[root@study ~]# isoinfo -d -i /home/CentOS-7-x86_64-Minimal-15031503-01.iso</span><br><span class="line">2、开始挂载这片光盘到 /mnt 并将完整的数据复制到/srv/newcd中去</span><br><span class="line">[root@study ~]# mount /home/CentOS-7-x86_64-Minimal-15031503-01.iso /mnt </span><br><span class="line">[root@study ~]# mkdir /srv/newcd </span><br><span class="line">[root@study ~]# rsync -a /mnt/ /srv/newcd </span><br><span class="line">[root@study ~]# ll /srv/newcd/ </span><br><span class="line">-rw-r--r--. 1 root root    16 Apr  1 07:11 CentOS_BuildTag</span><br><span class="line"># rsync 可以完整的复制所有的权限属性等数据，也能够进行镜像处理！相当好用的指令喔！ </span><br><span class="line"># 这里先了解一下即可。现在 newcd/ 目录内已经是完整的映像档内容！</span><br><span class="line"># 3. 假设已经处理完毕你在 /srv/newcd 里面所要进行的各项修改行为，准备建立 ISO 檔！ </span><br><span class="line">[root@study ~]# ll /srv/newcd/isolinux/</span><br><span class="line">[root@study ~]# cd /srv/newcd </span><br><span class="line">[root@study newcd]# mkisofs -o /custom.iso -b isolinux/isolinux.bin -c isolinux/boot.cat \ </span><br><span class="line">&gt; -no-emul-boot -V &apos;CentOS 7 x86_64&apos; -bootboot-loadload-size 4 -bootboot-infoinfo-table table -R R -J J -v v -T .</span><br></pre></td></tr></table></figure>
<p>此时你就有一个 /custom.img 的文件存在，可以将该光盘刻录出来啰！就这么简单！</p>
<h4 id="7-5-2-cdrecord：光盘刻录工具"><a href="#7-5-2-cdrecord：光盘刻录工具" class="headerlink" title="7.5.2 cdrecord：光盘刻录工具"></a>7.5.2 cdrecord：光盘刻录工具</h4><p>Centos 7使用的是wodim文字界面来进行刻录行为的，不过为了兼容旧版依然可以使用cdrecord，建议使用wodim。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">[root@study ~]# wodim ----devices dev=/dev/sr0...               &lt;==查询刻录机的 BUS 位置 </span><br><span class="line">[root@study ~]# wodim -v dev=/dev/sr0 blank=[fast|all]        &lt;==抹除重复读写片 </span><br><span class="line">[root@study ~]# wodim -v dev=/dev/sr0 -format                 &lt;==格式化 DVD+RW </span><br><span class="line">[root@study ~]# wodim -v dev=/dev/sr0 [可用可用选项选项功能功能] file.iso </span><br><span class="line">选项与参数： </span><br><span class="line">--devices       ：用在扫瞄磁盘总线并找出可用的刻录机，后续的装置为 ATA 接口 </span><br><span class="line">-v              ：在 cdrecord 运作的过程中，显示过程而已。 </span><br><span class="line">dev=/dev/sr0    ：可以找出此光驱的 bus 地址，非常重要！ </span><br><span class="line">blank=[fast|all]：blank 为抹除可重复写入的 CD/DVD-RW，使用 fast 较快，all 较完整 </span><br><span class="line">-format         ：对光盘片进行格式化，但是仅针对 DVD+RW 这种格式的 DVD 而已； </span><br><span class="line">[可用选项功能] 主要是写入 CD/DVD 时可使用的选项，常见的选项包括有： </span><br><span class="line">   -data   ：指定后面的文件以数据格式写入，不是以 CD 音轨(-audio)方式写入！ </span><br><span class="line">   speed=X ：指定刻录速度，例如 CD 可用 speed=40 为 40 倍数，DVD 则可用 speed=4 之类 </span><br><span class="line">   -eject  ：指定刻录完毕后自动退出光盘 </span><br><span class="line">   fs=Ym   ：指定多少缓冲存储器，可用在将映像档先暂存至缓冲存储器。预设为 4m， </span><br><span class="line">             一般建议可增加到 8m ，不过，还是得视你的刻录机而定。 </span><br><span class="line"></span><br><span class="line">针对 DVD 的选项功能： </span><br><span class="line">   driveropts=burnfree ：打开 Buffer Underrun Free 模式的写入功能 </span><br><span class="line">   -sao                ：支持 DVD-RW 的格式</span><br></pre></td></tr></table></figure>
<ul>
<li>检测你刻录机所在位置</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[root@study ~]# ll /dev/sr0 </span><br><span class="line">brw-rw----+ 1 root cdrom 11, 0 Jun 26 22:14 /dev/sr0 # 一般 Linux 光驱文件名！ </span><br><span class="line"> </span><br><span class="line">[root@study ~]# wodim ----devices dev=/dev/sr0 </span><br><span class="line">------------------------------------------------------------------------- </span><br><span class="line"> 0  dev=&apos;/dev/sr0&apos;      rwrw-- : &apos;QEMU&apos; &apos;QEMU DVD-ROM&apos; </span><br><span class="line">------------------------------------------------------------------------- </span><br><span class="line"> </span><br><span class="line">[root@demo ~]# wodim ----devices dev=/dev/sr0 </span><br><span class="line">wodim: Overview of accessible drives (1 found) : </span><br><span class="line">------------------------------------------------------------------------- </span><br><span class="line"> 0  dev=&apos;/dev/sr0&apos;      rwrw-- : &apos;ASUS&apos; &apos;DRW-24D1ST&apos; </span><br><span class="line">------------------------------------------------------------------------- </span><br><span class="line"># 你可以发现到其实鸟哥做了两个测试！上面的那部主机系统是虚拟机，当然光驱也是仿真的，没法用。 </span><br><span class="line"># 因此在这里与底下的 wodim 用法，鸟哥只能使用另一部 Demo 机器测试给大家看了！</span><br></pre></td></tr></table></figure>
<ul>
<li>进行CD/DVD的刻录动作：</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"># 0. 先抹除光盘的原始内容：(非可重复读写则可略过此步骤) </span><br><span class="line">[root@demo ~]# wodim -v dev=/dev/sr0 blank=fast </span><br><span class="line"># 中间会跑出一堆讯息告诉你抹除的进度，而且会有 10 秒钟的时间等待你的取消！ </span><br><span class="line"> </span><br><span class="line"># 1. 开始刻录： </span><br><span class="line"></span><br><span class="line">[root@demo ~]# wodim -v v dev=/dev/sr0 speed=4 -dummy -eject /tmp/system.img</span><br><span class="line"></span><br><span class="line"># 2. 刻录完毕后，测试挂载一下，检验内容： </span><br><span class="line">[root@demo ~]# mount /dev/sr0/mnt </span><br><span class="line">[root@demo ~]# df -h /mnt </span><br><span class="line">Filesystem            Size  Used Avail Use% Mounted on </span><br><span class="line">Filesystem      Size  Used Avail Use% Mounted on </span><br><span class="line">/dev/sr0         87M   87M     0 100% /mnt </span><br><span class="line"> </span><br><span class="line">[root@demo ~]# ll /mnt </span><br><span class="line">dr-xr-xr-x. 135 root root 36864 Jun 30 04:00 etc </span><br><span class="line">dr-xr-xr-x.  19 root root  8192 Jul  2 13:16 root </span><br><span class="line"> </span><br><span class="line">[root@demo ~]# umount /mnt    &lt;==不要忘了卸除</span><br></pre></td></tr></table></figure>
<h3 id="7-6-其他常见的压缩和备份工具"><a href="#7-6-其他常见的压缩和备份工具" class="headerlink" title="7.6 其他常见的压缩和备份工具"></a>7.6 其他常见的压缩和备份工具</h3><h4 id="7-6-1-dd"><a href="#7-6-1-dd" class="headerlink" title="7.6.1 dd"></a>7.6.1 dd</h4><p>‘</p>

    </article>
    <!-- license  -->
    
        <div class="license-wrapper">
            <p>原文作者：<a href="http://mr-9.github.io">30no2</a>
            <p>原文链接：<a href="http://mr-9.github.io/2020/10/15/鸟哥的linux私房菜《第四版》——笔记/">http://mr-9.github.io/2020/10/15/鸟哥的linux私房菜《第四版》——笔记/</a>
            <p>发表日期：<a href="http://mr-9.github.io/2020/10/15/鸟哥的linux私房菜《第四版》——笔记/">October 15th 2020, 12:00:00 am</a>
            <p>更新日期：<a href="http://mr-9.github.io/2020/10/15/鸟哥的linux私房菜《第四版》——笔记/">December 10th 2020, 1:11:20 pm</a>
            <p>版权声明：本文采用<a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/">知识共享署名-非商业性使用 4.0 国际许可协议</a>进行许可</p>
        </div>
    
    <!-- paginator  -->
    <ul class="post-paginator">
        <li class="next">
            
                <div class="nextSlogan">Next Post</div>
                <a href= "/2020/11/03/Oracle Vm VirtualBox桥接网络配置/" title= "Oracle Vm VirtualBox桥接网络配置">
                    <div class="nextTitle">Oracle Vm VirtualBox桥接网络配置</div>
                </a>
            
        </li>
        <li class="previous">
            
                <div class="prevSlogan">Previous Post</div>
                <a href= "/2020/08/17/php_Md5Rsa/" title= "php——Md5Rsa加密">
                    <div class="prevTitle">php——Md5Rsa加密</div>
                </a>
            
        </li>
    </ul>
    <!-- 评论插件 -->
    <!-- 来必力City版安装代码 -->

<!-- City版安装代码已完成 -->
    
    
    <!-- partial('_partial/comment/changyan') -->
    <!--PC版-->


    
    

    <!-- 评论 -->
</main>
            <!-- profile -->
            
        </div>
        <footer class="footer footer-unloaded">
    <!-- social  -->
    
    <div class="social">
        
    
        
            
                <a href="mailto:1421122102@qq.com" class="iconfont-archer email" title=email ></a>
            
        
    
        
            
                <a href="//github.com/mr-9" class="iconfont-archer github" target="_blank" title=github></a>
            
        
    
        
            
                <span class="iconfont-archer wechat" title=wechat>
                  
                  <img class="profile-qr" src="/assets/example_qr.png" />
                </span>
            
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    

    </div>
    
    <!-- powered by Hexo  -->
    <div class="copyright">
        <span id="hexo-power">Powered by <a href="https://hexo.io/" target="_blank">Hexo</a></span><span class="iconfont-archer power">&#xe635;</span><span id="theme-info">theme <a href="https://github.com/fi3ework/hexo-theme-archer" target="_blank">Archer</a></span>
    </div>
    <!-- 不蒜子  -->
    
    <div class="busuanzi-container">
    
     
    <span id="busuanzi_container_site_pv">PV: <span id="busuanzi_value_site_pv"></span> :)</span>
    
    </div>
    
</footer>
    </div>
    <!-- toc -->
    
    <div class="toc-wrapper" style=
    







top:50vh;

    >
        <div class="toc-catalog">
            <span class="iconfont-archer catalog-icon">&#xe613;</span><span>CATALOG</span>
        </div>
        <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#一、主机的规划与磁盘分区"><span class="toc-number">1.</span> <span class="toc-text">一、主机的规划与磁盘分区</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1、linux与硬件的搭配"><span class="toc-number">1.1.</span> <span class="toc-text">1、linux与硬件的搭配</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2、磁盘分区"><span class="toc-number">1.2.</span> <span class="toc-text">2、磁盘分区</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#二、安装centos7"><span class="toc-number">2.</span> <span class="toc-text">二、安装centos7</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#三、首次登入与在线求助"><span class="toc-number">3.</span> <span class="toc-text">三、首次登入与在线求助</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#四、linux的文件权限与目录配置"><span class="toc-number">4.</span> <span class="toc-text">四、linux的文件权限与目录配置</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#（一）使用者与群组"><span class="toc-number">4.1.</span> <span class="toc-text">（一）使用者与群组</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1、文件拥有者："><span class="toc-number">4.1.1.</span> <span class="toc-text">1、文件拥有者：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2、群组概念："><span class="toc-number">4.1.2.</span> <span class="toc-text">2、群组概念：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3、其他人的概念"><span class="toc-number">4.1.3.</span> <span class="toc-text">3、其他人的概念</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4、Linux用户身份与群组记录的文件"><span class="toc-number">4.1.4.</span> <span class="toc-text">4、Linux用户身份与群组记录的文件</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#（二）linux文件权限概念"><span class="toc-number">4.2.</span> <span class="toc-text">（二）linux文件权限概念</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1、linux文件按属性"><span class="toc-number">4.2.1.</span> <span class="toc-text">1、linux文件按属性</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1）第一栏代表这个文件的类型与权限（permission）"><span class="toc-number">4.2.1.1.</span> <span class="toc-text">1）第一栏代表这个文件的类型与权限（permission）</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2）第二栏表示有多少档名连接到此节点（i-node）"><span class="toc-number">4.2.1.2.</span> <span class="toc-text">2）第二栏表示有多少档名连接到此节点（i-node）</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3）第三栏表示这个文件（或目录）的【拥有者账号】"><span class="toc-number">4.2.1.3.</span> <span class="toc-text">3）第三栏表示这个文件（或目录）的【拥有者账号】</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4）第四栏表示这个文件的所属群组"><span class="toc-number">4.2.1.4.</span> <span class="toc-text">4）第四栏表示这个文件的所属群组</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#5）第五栏为这个文件的容量大小，默认单位为bytes"><span class="toc-number">4.2.1.5.</span> <span class="toc-text">5）第五栏为这个文件的容量大小，默认单位为bytes</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#6）第六栏为这个文件的建档日期或者是最近的修改日期"><span class="toc-number">4.2.1.6.</span> <span class="toc-text">6）第六栏为这个文件的建档日期或者是最近的修改日期</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#7）第七栏为这个文件的档名"><span class="toc-number">4.2.1.7.</span> <span class="toc-text">7）第七栏为这个文件的档名</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2、linux文件权限的重要性"><span class="toc-number">4.2.2.</span> <span class="toc-text">2、linux文件权限的重要性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3、如何改变文件属性与权限"><span class="toc-number">4.2.3.</span> <span class="toc-text">3、如何改变文件属性与权限</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4、目录与文件之权限意义"><span class="toc-number">4.2.4.</span> <span class="toc-text">4、目录与文件之权限意义</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1）权限对文件的重要性"><span class="toc-number">4.2.4.1.</span> <span class="toc-text">1）权限对文件的重要性</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2）权限对目录的重要性"><span class="toc-number">4.2.4.2.</span> <span class="toc-text">2）权限对目录的重要性</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5、Linux文件种类与扩展名"><span class="toc-number">4.2.5.</span> <span class="toc-text">5、Linux文件种类与扩展名</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1）文件种类"><span class="toc-number">4.2.5.1.</span> <span class="toc-text">1）文件种类</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2）Linux文件扩展名"><span class="toc-number">4.2.5.2.</span> <span class="toc-text">2）Linux文件扩展名</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3）Linux文件长度的限制"><span class="toc-number">4.2.5.3.</span> <span class="toc-text">3）Linux文件长度的限制</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4）Linux文件名的限制"><span class="toc-number">4.2.5.4.</span> <span class="toc-text">4）Linux文件名的限制</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#（三）Linux目录配置"><span class="toc-number">4.3.</span> <span class="toc-text">（三）Linux目录配置</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1、Linux的目录配置依据：FHS"><span class="toc-number">4.3.1.</span> <span class="toc-text">1、Linux的目录配置依据：FHS</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1）针对FHS，各家distributions-的异同，与-CentOS7-的变化"><span class="toc-number">4.3.1.1.</span> <span class="toc-text">1）针对FHS，各家distributions 的异同，与 CentOS7 的变化</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2、目录树"><span class="toc-number">4.3.2.</span> <span class="toc-text">2、目录树</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3、绝对路径和相对路径"><span class="toc-number">4.3.3.</span> <span class="toc-text">3、绝对路径和相对路径</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4、Centos-的观察"><span class="toc-number">4.3.4.</span> <span class="toc-text">4、Centos 的观察</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5、重点"><span class="toc-number">4.3.5.</span> <span class="toc-text">5、重点</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#五、Linux文件与目录管理"><span class="toc-number">5.</span> <span class="toc-text">五、Linux文件与目录管理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1、目录与路径"><span class="toc-number">5.1.</span> <span class="toc-text">1、目录与路径</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2、文件与目录管理"><span class="toc-number">5.2.</span> <span class="toc-text">2、文件与目录管理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3、文件内容查阅"><span class="toc-number">5.3.</span> <span class="toc-text">3、文件内容查阅</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4、文件与目录的默认权限与隐藏权限"><span class="toc-number">5.4.</span> <span class="toc-text">4、文件与目录的默认权限与隐藏权限</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5、指令与文件搜索"><span class="toc-number">5.5.</span> <span class="toc-text">5、指令与文件搜索</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6、复习"><span class="toc-number">5.6.</span> <span class="toc-text">6、复习</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#六、Linux磁盘与文件系统"><span class="toc-number">6.</span> <span class="toc-text">六、Linux磁盘与文件系统</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1、认识Linux系统"><span class="toc-number">6.1.</span> <span class="toc-text">6.1、认识Linux系统</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2、文件系统的简单操作"><span class="toc-number">6.2.</span> <span class="toc-text">6.2、文件系统的简单操作</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#6-2-1-磁盘与目录的容量"><span class="toc-number">6.2.1.</span> <span class="toc-text">6.2.1 磁盘与目录的容量</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-2-2-实体链接与符号链接-ln"><span class="toc-number">6.2.2.</span> <span class="toc-text">6.2.2 实体链接与符号链接 ln</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1）建立实体链接-hard-link"><span class="toc-number">6.2.2.1.</span> <span class="toc-text">1）建立实体链接 hard link</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2）Symbolic-Link-符号链接，亦既是快捷方式"><span class="toc-number">6.2.2.2.</span> <span class="toc-text">2）Symbolic Link(符号链接，亦既是快捷方式)</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3、磁盘的分区、格式化、检验、挂载"><span class="toc-number">6.3.</span> <span class="toc-text">6.3、磁盘的分区、格式化、检验、挂载</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#6-3-1-观察磁盘分区状态"><span class="toc-number">6.3.1.</span> <span class="toc-text">6.3.1 观察磁盘分区状态</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-3-2-磁盘分区：gdisk-fdisk"><span class="toc-number">6.3.2.</span> <span class="toc-text">6.3.2 磁盘分区：gdisk/fdisk</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-3-3-磁盘格式化（建置文件系统）"><span class="toc-number">6.3.3.</span> <span class="toc-text">6.3.3 磁盘格式化（建置文件系统）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-3-4-文件系统检验"><span class="toc-number">6.3.4.</span> <span class="toc-text">6.3.4 文件系统检验</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-3-5-文件系统的挂载与卸除"><span class="toc-number">6.3.5.</span> <span class="toc-text">6.3.5 文件系统的挂载与卸除</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-3-6-磁盘-文件系统参数修订"><span class="toc-number">6.3.6.</span> <span class="toc-text">6.3.6 磁盘/文件系统参数修订</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-4-设定开机挂载"><span class="toc-number">6.4.</span> <span class="toc-text">6.4 设定开机挂载</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#6-4-1-开机挂载-etc-fstab-及-etc-mtab"><span class="toc-number">6.4.1.</span> <span class="toc-text">6.4.1 开机挂载 /etc/fstab 及 /etc/mtab</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-4-2-特殊装置loop挂载（映像档不刻录就挂载使用）"><span class="toc-number">6.4.2.</span> <span class="toc-text">6.4.2 特殊装置loop挂载（映像档不刻录就挂载使用）</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-5-内存置换空间（swap）之建制"><span class="toc-number">6.5.</span> <span class="toc-text">6.5 内存置换空间（swap）之建制</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#6-5-1-使用实体分区槽建置swap"><span class="toc-number">6.5.1.</span> <span class="toc-text">6.5.1 使用实体分区槽建置swap</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-5-2-使用文件建置swap"><span class="toc-number">6.5.2.</span> <span class="toc-text">6.5.2 使用文件建置swap</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-6-文件系统的特殊观察与操作"><span class="toc-number">6.6.</span> <span class="toc-text">6.6 文件系统的特殊观察与操作</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#6-6-1-磁盘空间之浪费问题"><span class="toc-number">6.6.1.</span> <span class="toc-text">6.6.1 磁盘空间之浪费问题</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#6-6-2-利用-GNU-的-parted-进行分区行为-Optional"><span class="toc-number">6.6.2.</span> <span class="toc-text">6.6.2 利用 GNU 的 parted 进行分区行为(Optional)</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#七、文件与文件系统的压缩，打包与备份"><span class="toc-number">7.</span> <span class="toc-text">七、文件与文件系统的压缩，打包与备份</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#7-1压缩文件的用途与技术"><span class="toc-number">7.1.</span> <span class="toc-text">7.1压缩文件的用途与技术</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-2-Linux常见的压缩指令"><span class="toc-number">7.2.</span> <span class="toc-text">7.2 Linux常见的压缩指令</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#7-2-1-gzip，zcat-zmore-zless-zgrep"><span class="toc-number">7.2.1.</span> <span class="toc-text">7.2.1 gzip，zcat/zmore/zless/zgrep</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7-2-2-bzip2-bzcat-bzmore-bzless-bzgrep"><span class="toc-number">7.2.2.</span> <span class="toc-text">7.2.2 bzip2,bzcat/bzmore/bzless/bzgrep</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7-2-3-xz-xzcat-xzmore-xzless-xzgrep"><span class="toc-number">7.2.3.</span> <span class="toc-text">7.2.3 xz, xzcat/xzmore/xzless/xzgrep</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-3-打包指令：tar"><span class="toc-number">7.3.</span> <span class="toc-text">7.3 打包指令：tar</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-4-XFS文件系统的备份与还原"><span class="toc-number">7.4.</span> <span class="toc-text">7.4 XFS文件系统的备份与还原</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#7-4-1-XFS-文件系统备份-xfsdump"><span class="toc-number">7.4.1.</span> <span class="toc-text">7.4.1 XFS 文件系统备份 xfsdump</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7-4-2-XFS-文件体统还原-xfsrestore"><span class="toc-number">7.4.2.</span> <span class="toc-text">7.4.2 XFS 文件体统还原 xfsrestore</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-5-光盘写入工具"><span class="toc-number">7.5.</span> <span class="toc-text">7.5 光盘写入工具</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#7-5-1-mkisofs：建立映像档"><span class="toc-number">7.5.1.</span> <span class="toc-text">7.5.1 mkisofs：建立映像档</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#7-5-2-cdrecord：光盘刻录工具"><span class="toc-number">7.5.2.</span> <span class="toc-text">7.5.2 cdrecord：光盘刻录工具</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-6-其他常见的压缩和备份工具"><span class="toc-number">7.6.</span> <span class="toc-text">7.6 其他常见的压缩和备份工具</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#7-6-1-dd"><span class="toc-number">7.6.1.</span> <span class="toc-text">7.6.1 dd</span></a></li></ol></li></ol></li></ol>
    </div>
    
    <div class="back-top iconfont-archer">&#xe639;</div>
    <div class="sidebar sidebar-hide">
    <ul class="sidebar-tabs sidebar-tabs-active-0">
        <li class="sidebar-tab-archives"><span class="iconfont-archer">&#xe67d;</span><span class="tab-name">Archive</span></li>
        <li class="sidebar-tab-tags"><span class="iconfont-archer">&#xe61b;</span><span class="tab-name">Tag</span></li>
        <li class="sidebar-tab-categories"><span class="iconfont-archer">&#xe666;</span><span class="tab-name">Cate</span></li>
    </ul>
    <div class="sidebar-content sidebar-content-show-archive">
          <div class="sidebar-panel-archives">
    <!-- 在ejs中将archive按照时间排序 -->
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    <div class="total-and-search">
        <div class="total-archive">
        Total : 71
        </div>
        <!-- search  -->
        
    </div>
    
    <div class="post-archive">
    
    
    
    
    <div class="archive-year"> 2020 </div>
    <ul class="year-list">
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">11/03</span><a class="archive-post-title" href= "/2020/11/03/Oracle Vm VirtualBox桥接网络配置/" >Oracle Vm VirtualBox桥接网络配置</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">08/17</span><a class="archive-post-title" href= "/2020/08/17/php_Md5Rsa/" >php——Md5Rsa加密</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">08/17</span><a class="archive-post-title" href= "/2020/08/17/php无限极分类/" >php无限极分类</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">06/01</span><a class="archive-post-title" href= "/2020/06/01/Linux学习--复习篇/" >Linux学习--复习篇</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">05/29</span><a class="archive-post-title" href= "/2020/05/29/sublime text3 自定义快捷键/" >sublime text3 自定义按键</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">03/18</span><a class="archive-post-title" href= "/2020/03/18/sublime text3 注册码/" >sublime text3 注册码</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">01/16</span><a class="archive-post-title" href= "/2020/01/16/java学习笔记/" >java学习</a>
        </li>
    
    
    
    
    
        </ul>
    
    <div class="archive-year"> 2019 </div>
    <ul class="year-list">
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">12/24</span><a class="archive-post-title" href= "/2019/12/24/phpstorm激活码/" >phpstorm</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">12/18</span><a class="archive-post-title" href= "/2019/12/18/centos lamp环境安装/" >centos7 lamp环境安装</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">11/18</span><a class="archive-post-title" href= "/2019/11/18/swoole学习笔记/" >swoole学习笔记</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">11/15</span><a class="archive-post-title" href= "/2019/11/15/git-log-详解/" >git log 详解</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">10/10</span><a class="archive-post-title" href= "/2019/10/10/hello-world/" >Hello World</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">10/10</span><a class="archive-post-title" href= "/2019/10/10/python学习--头部解析/" >python学习--头部解析</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">10/08</span><a class="archive-post-title" href= "/2019/10/08/python学习--翻译/" >python学习--翻译</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">09/28</span><a class="archive-post-title" href= "/2019/09/28/pytharm激活码/" >python编译器pytharm激活码到2020年</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">09/27</span><a class="archive-post-title" href= "/2019/09/27/phpbase64图片转码/" >phpbase64图片转码</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">08/27</span><a class="archive-post-title" href= "/2019/08/27/svn使用思路/" >svn使用思路</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">07/31</span><a class="archive-post-title" href= "/2019/07/31/markdown.css/" >markdown.css</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">07/29</span><a class="archive-post-title" href= "/2019/07/29/linux学习--实操篇2.0/" >linux学习--实操2.0</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">07/27</span><a class="archive-post-title" href= "/2019/07/27/linux学习-实操篇/" >linux学习--实操篇</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">07/22</span><a class="archive-post-title" href= "/2019/07/22/linux学习/" >linux学习--指令篇</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">06/20</span><a class="archive-post-title" href= "/2019/06/20/phpstorm快捷键/" >phpstorm快捷键</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">05/23</span><a class="archive-post-title" href= "/2019/05/23/markdown注册激活/" >MarkdownPad2安装汉化与注册码</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">05/23</span><a class="archive-post-title" href= "/2019/05/23/php一些常用方法/" >php常用方法</a>
        </li>
    
    
    
    
    
        </ul>
    
    <div class="archive-year"> 2018 </div>
    <ul class="year-list">
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">06/26</span><a class="archive-post-title" href= "/2018/06/26/php封装一个接口类/" >php封装一个接口类</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">05/22</span><a class="archive-post-title" href= "/2018/05/22/php根据url跳转/" >php页面跳转</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">03/22</span><a class="archive-post-title" href= "/2018/03/22/php学习之路/" >php学习导向</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">01/16</span><a class="archive-post-title" href= "/2018/01/16/html5禁止 用户缩放/" >html5用户禁止缩放</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">01/12</span><a class="archive-post-title" href= "/2018/01/12/js返回顶部/" >js返回顶部</a>
        </li>
    
    
    
    
    
        </ul>
    
    <div class="archive-year"> 2017 </div>
    <ul class="year-list">
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">12/14</span><a class="archive-post-title" href= "/2017/12/14/markdown/" >markdown</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">11/22</span><a class="archive-post-title" href= "/2017/11/22/git用法（持续更新）/" >git 常用操作（持续更新中。。。）</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">11/07</span><a class="archive-post-title" href= "/2017/11/07/js页面自动刷新，再也不用f5了/" >js页面自动刷新，再也不用f5了</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">10/27</span><a class="archive-post-title" href= "/2017/10/27/jq获取连接参数/" >jq获取连接参数</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">10/25</span><a class="archive-post-title" href= "/2017/10/25/html 空格占位符/" >html空格占位符</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">10/19</span><a class="archive-post-title" href= "/2017/10/19/20171019/" >oa系统1</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">10/18</span><a class="archive-post-title" href= "/2017/10/18/git使用及配置方法/" >使用git提交到码云</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">10/17</span><a class="archive-post-title" href= "/2017/10/17/20171017/" >2017年10月17日</a>
        </li>
    
    
    
    
    
        </ul>
    
    <div class="archive-year"> Invalid date </div>
    <ul class="year-list">
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">Invalid date</span><a class="archive-post-title" href= "/2020/01/03/thinkphp5.1源码学习/" >[Untitled Post]</a>
        </li>
    
    
    
    
    
        </ul>
    
    <div class="archive-year"> 2020 </div>
    <ul class="year-list">
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">10/15</span><a class="archive-post-title" href= "/2020/10/15/鸟哥的linux私房菜《第四版》——笔记/" >鸟哥的linux私房菜《第四版》——读后感</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">07/16</span><a class="archive-post-title" href= "/2020/07/16/与青春有关的日子/" >与青春有关的日子</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">06/09</span><a class="archive-post-title" href= "/2020/06/09/电影2020-6-9/" >电影</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">06/05</span><a class="archive-post-title" href= "/2020/06/05/精通python爬虫框架scrapy读书笔记/" >精通python爬虫框架scrapy读书笔记</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">05/14</span><a class="archive-post-title" href= "/2020/05/14/我编程我快乐/" >我编程我快乐</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">04/22</span><a class="archive-post-title" href= "/2020/04/22/秒杀系统php学习/" >php秒杀系统</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">01/16</span><a class="archive-post-title" href= "/2020/01/16/设计模式学习/" >java设计模式学习</a>
        </li>
    
    
    
    
    
        </ul>
    
    <div class="archive-year"> 2019 </div>
    <ul class="year-list">
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">11/20</span><a class="archive-post-title" href= "/2019/11/20/swoole+thinkphp从零开始打造高性能直播赛事/" >swoole+thinkphp从零开始打造高性能直播赛事</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">11/13</span><a class="archive-post-title" href= "/2019/11/13/千万级秒杀项目实战/" >千万级秒杀项目实战</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">10/29</span><a class="archive-post-title" href= "/2019/10/29/攀登者/" >攀登者</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">10/10</span><a class="archive-post-title" href= "/2019/10/10/禁忌女孩/" >禁忌女孩</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">09/30</span><a class="archive-post-title" href= "/2019/09/30/人民的名义/" >人民的名义</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">09/17</span><a class="archive-post-title" href= "/2019/09/17/最新激活visio2013密钥/" >最新激活visio2013密钥</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">09/09</span><a class="archive-post-title" href= "/2019/09/09/黑袍纠察队 第一季/" >黑袍纠察队 第一季</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">09/01</span><a class="archive-post-title" href= "/2019/09/01/切尔诺贝利日记/" >切尔诺贝利日记</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">09/01</span><a class="archive-post-title" href= "/2019/09/01/权利的游戏/" >权利的游戏</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">08/31</span><a class="archive-post-title" href= "/2019/08/31/切尔诺贝利 第一季/" >切尔诺贝利</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">08/27</span><a class="archive-post-title" href= "/2019/08/27/全职高手/" >全职高手</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">08/27</span><a class="archive-post-title" href= "/2019/08/27/数据库映射/" >数据库映射</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">05/23</span><a class="archive-post-title" href= "/2019/05/23/日记2019-05-23/" >日记</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">04/30</span><a class="archive-post-title" href= "/2019/04/30/日记2019-04-30/" >2019/04/30</a>
        </li>
    
    
    
    
    
        </ul>
    
    <div class="archive-year"> 2018 </div>
    <ul class="year-list">
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">11/08</span><a class="archive-post-title" href= "/2018/11/08/《php和mysql Web开发》学习笔记/" >《php和mysql Web开发》stu</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">05/25</span><a class="archive-post-title" href= "/2018/05/25/虚拟环境配置/" >虚拟域名配置</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">05/14</span><a class="archive-post-title" href= "/2018/05/14/格式化数据库/" >格式化数据库</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">04/11</span><a class="archive-post-title" href= "/2018/04/11/网游特殊文字大全/" >网游特殊文字</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">01/18</span><a class="archive-post-title" href= "/2018/01/18/详解jq的each()遍历/" >详解jq的each()遍历</a>
        </li>
    
    
    
    
    
        </ul>
    
    <div class="archive-year"> 2017 </div>
    <ul class="year-list">
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">12/28</span><a class="archive-post-title" href= "/2017/12/28/手机内存卡无法格式话--蛋疼的一天/" >手机内存卡无法格式话</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">12/25</span><a class="archive-post-title" href= "/2017/12/25/wget/" >wget用法详解</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">11/20</span><a class="archive-post-title" href= "/2017/11/20/二级联动菜单 js/" >二级联动菜单</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">11/16</span><a class="archive-post-title" href= "/2017/11/16/图片懒加载 jq版/" >图片懒加载jq版</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">11/10</span><a class="archive-post-title" href= "/2017/11/10/一款好用的图片占位符/" >一款好用的图片占位符</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">11/09</span><a class="archive-post-title" href= "/2017/11/09/雪花飘落jq/" >雪花飘落jq</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">11/02</span><a class="archive-post-title" href= "/2017/11/02/微信公众号分享jssdk/" >微信公众号分享&jssdk</a>
        </li>
    
    </div>
  </div>
        <div class="sidebar-panel-tags">
    <div class="sidebar-tags-name">
    
        <span class="sidebar-tag-name" data-tags="日记"><span class="iconfont-archer">&#xe606;</span>日记</span>
    
        <span class="sidebar-tag-name" data-tags="工作日记"><span class="iconfont-archer">&#xe606;</span>工作日记</span>
    
        <span class="sidebar-tag-name" data-tags="Linux"><span class="iconfont-archer">&#xe606;</span>Linux</span>
    
        <span class="sidebar-tag-name" data-tags="笔记,git,码云"><span class="iconfont-archer">&#xe606;</span>笔记,git,码云</span>
    
        <span class="sidebar-tag-name" data-tags="技术文章"><span class="iconfont-archer">&#xe606;</span>技术文章</span>
    
        <span class="sidebar-tag-name" data-tags="java"><span class="iconfont-archer">&#xe606;</span>java</span>
    
        <span class="sidebar-tag-name" data-tags="git"><span class="iconfont-archer">&#xe606;</span>git</span>
    
        <span class="sidebar-tag-name" data-tags="linux"><span class="iconfont-archer">&#xe606;</span>linux</span>
    
        <span class="sidebar-tag-name" data-tags="phpstorm"><span class="iconfont-archer">&#xe606;</span>phpstorm</span>
    
        <span class="sidebar-tag-name" data-tags="破解"><span class="iconfont-archer">&#xe606;</span>破解</span>
    
        <span class="sidebar-tag-name" data-tags="php"><span class="iconfont-archer">&#xe606;</span>php</span>
    
        <span class="sidebar-tag-name" data-tags="markdown"><span class="iconfont-archer">&#xe606;</span>markdown</span>
    
        <span class="sidebar-tag-name" data-tags="开发"><span class="iconfont-archer">&#xe606;</span>开发</span>
    
        <span class="sidebar-tag-name" data-tags="python"><span class="iconfont-archer">&#xe606;</span>python</span>
    
        <span class="sidebar-tag-name" data-tags="工具"><span class="iconfont-archer">&#xe606;</span>工具</span>
    
        <span class="sidebar-tag-name" data-tags="svn"><span class="iconfont-archer">&#xe606;</span>svn</span>
    
        <span class="sidebar-tag-name" data-tags="php和mysql Web开发"><span class="iconfont-archer">&#xe606;</span>php和mysql Web开发</span>
    
        <span class="sidebar-tag-name" data-tags="切尔诺贝利"><span class="iconfont-archer">&#xe606;</span>切尔诺贝利</span>
    
        <span class="sidebar-tag-name" data-tags="切尔诺贝利日记"><span class="iconfont-archer">&#xe606;</span>切尔诺贝利日记</span>
    
        <span class="sidebar-tag-name" data-tags="全职高手"><span class="iconfont-archer">&#xe606;</span>全职高手</span>
    
        <span class="sidebar-tag-name" data-tags="攀登者"><span class="iconfont-archer">&#xe606;</span>攀登者</span>
    
        <span class="sidebar-tag-name" data-tags="人民的名义"><span class="iconfont-archer">&#xe606;</span>人民的名义</span>
    
        <span class="sidebar-tag-name" data-tags="mysql"><span class="iconfont-archer">&#xe606;</span>mysql</span>
    
        <span class="sidebar-tag-name" data-tags="电视剧"><span class="iconfont-archer">&#xe606;</span>电视剧</span>
    
        <span class="sidebar-tag-name" data-tags="电影集合"><span class="iconfont-archer">&#xe606;</span>电影集合</span>
    
        <span class="sidebar-tag-name" data-tags="权利的游戏"><span class="iconfont-archer">&#xe606;</span>权利的游戏</span>
    
        <span class="sidebar-tag-name" data-tags="游戏"><span class="iconfont-archer">&#xe606;</span>游戏</span>
    
        <span class="sidebar-tag-name" data-tags="jq"><span class="iconfont-archer">&#xe606;</span>jq</span>
    
        <span class="sidebar-tag-name" data-tags="黑袍纠察队 第一季"><span class="iconfont-archer">&#xe606;</span>黑袍纠察队 第一季</span>
    
    </div>
    <div class="iconfont-archer sidebar-tags-empty">&#xe678;</div>
    <div class="tag-load-fail" style="display: none; color: #ccc; font-size: 0.6rem;">
    缺失模块。<br/>
    1、请确保node版本大于6.2<br/>
    2、在博客根目录（注意不是archer根目录）执行以下命令：<br/>
    <span style="color: #f75357; font-size: 1rem; line-height: 2rem;">npm i hexo-generator-json-content --save</span><br/>
    3、在根目录_config.yml里添加配置：
    <pre style="color: #787878; font-size: 0.6rem;">
jsonContent:
  meta: false
  pages: false
  posts:
    title: true
    date: true
    path: true
    text: false
    raw: false
    content: false
    slug: false
    updated: false
    comments: false
    link: false
    permalink: false
    excerpt: false
    categories: true
    tags: true</pre>
    </div> 
    <div class="sidebar-tags-list"></div>
</div>
        <div class="sidebar-panel-categories">
    <div class="sidebar-categories-name">
    
        <span class="sidebar-category-name" data-categories="序"><span class="iconfont-archer">&#xe60a;</span>序</span>
    
        <span class="sidebar-category-name" data-categories="学习"><span class="iconfont-archer">&#xe60a;</span>学习</span>
    
        <span class="sidebar-category-name" data-categories="linux"><span class="iconfont-archer">&#xe60a;</span>linux</span>
    
        <span class="sidebar-category-name" data-categories="杂七杂八"><span class="iconfont-archer">&#xe60a;</span>杂七杂八</span>
    
        <span class="sidebar-category-name" data-categories="常用方法"><span class="iconfont-archer">&#xe60a;</span>常用方法</span>
    
        <span class="sidebar-category-name" data-categories="markdown"><span class="iconfont-archer">&#xe60a;</span>markdown</span>
    
        <span class="sidebar-category-name" data-categories="工具"><span class="iconfont-archer">&#xe60a;</span>工具</span>
    
        <span class="sidebar-category-name" data-categories="svn"><span class="iconfont-archer">&#xe60a;</span>svn</span>
    
        <span class="sidebar-category-name" data-categories="学习笔记"><span class="iconfont-archer">&#xe60a;</span>学习笔记</span>
    
        <span class="sidebar-category-name" data-categories="影视"><span class="iconfont-archer">&#xe60a;</span>影视</span>
    
        <span class="sidebar-category-name" data-categories="读书笔记"><span class="iconfont-archer">&#xe60a;</span>读书笔记</span>
    
        <span class="sidebar-category-name" data-categories="数据库"><span class="iconfont-archer">&#xe60a;</span>数据库</span>
    
    </div>
    <div class="iconfont-archer sidebar-categories-empty">&#xe678;</div>
    <div class="sidebar-categories-list"></div>
</div>
    </div>
</div> 
    <script>
    var siteMeta = {
        root: "/",
        author: "30no2"
    }
</script>
    <!-- CDN failover -->
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
    <script type="text/javascript">
        if (typeof window.$ === 'undefined')
        {
            console.warn('jquery load from jsdelivr failed, will load local script')
            document.write('<script src="/lib/jquery.min.js">\x3C/script>')
        }
    </script>
    <script src="/scripts/main.js"></script>
    <!-- algolia -->
    
    <!-- busuanzi  -->
    
    <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    
    <!-- CNZZ  -->
    
    </div>
    <!-- async load share.js -->
    
        <script src="/scripts/share.js" async></script>    
     
    </body>
</html>


